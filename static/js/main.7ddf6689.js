/*! For license information please see main.7ddf6689.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<a.length;++y){var m=a[y];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return S(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||S(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===y},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=S},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,ke=null;function Ie(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),_e(e.stateNode,e.type,t))}}function Te(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(Ce(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,je=!1,Ve=null,Ue={onError:function(e){Fe=!0,Me=e}};function ze(e,t,n,r,i,o,a,u,s){Fe=!1,Me=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~i;0!==u?r=ft(u):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,_t,Et,kt,It,Tt=!1,xt=[],Nt=null,Ct=null,At=null,Dt=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Qt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Ft(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Ft(Ct,e,t,n,r,i),!0;case"mouseover":return At=Ft(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Ft(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Ft(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=$t(e,t,n,r))&&Kr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=Se(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=M({},cn,{view:0,detail:0}),hn=on(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=on(dn),vn=on(M({},dn,{dataTransfer:0})),yn=on(M({},fn,{relatedTarget:0})),mn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),wn=on(M({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return kn}var Tn=M({},fn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Tn),Nn=on(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Dn),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Gn(e){jr(e,0)}function $n(e){if(Q(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Hn(t,Qn,e,Se(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Er={},kr={};function Ir(e){if(Er[e])return Er[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Ir("animationend"),xr=Ir("animationiteration"),Nr=Ir("animationstart"),Cr=Ir("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Rr=Dr[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var l=Me;Fe=!1,Me=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Mr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Mr(i,u,c),o=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=gi(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}De((function(){var r=o,i=Se(n),a=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Tr:case xr:case Nr:s=mn;break;case Cr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Qr(l),h=Qr(h)}l=null}else l=null;null!==s&&Gr(a,u,s,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Kn(u))if(Xn)y=ar;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(a,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?wi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}jr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,o))&&a.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,o))&&a.push(Hr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[di]||null}var _i=[],Ei=-1;function ki(e){return{current:e}}function Ii(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Ti(e,t){Ei++,_i[Ei]=e.current,e.current=t}var xi={},Ni=ki(xi),Ci=ki(!1),Ai=xi;function Di(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ci),Ii(Ni)}function Ri(e,t,n){if(Ni.current!==xi)throw Error(o(168));Ti(Ni,t),Ti(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ni.current,Ti(Ni,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(Ni),Ti(Ni,e)):Ii(Ci),Ti(Ci,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Qe(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Qi=[],Gi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!uo(e,t)){if(so(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&uo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var yo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=ki(null),bo=null,wo=null,So=null;function _o(){So=wo=bo=null}function Eo(e){var t=go.current;Ii(go),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){bo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function No(e){null===xo?xo=[e]:xo.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Mo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==o){var f=i.baseState;for(a=0,l=c=s=null,u=o;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Do=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,a|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fs|=a,e.lanes=a,e.memoizedState=f}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Fo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function Ko(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Oi(t)?Ai:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Oi(t)?Ai:Ni.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=i(t,n.props)).ref=Qo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Qo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Qo(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),io&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),io&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return io&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,y),l}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Qo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Lc(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Rc(a.type,a.key,a.props,null,r.mode,s)).ref=Qo(r,o,a),s.return=r,r=s)}return u(r);case _:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,s)).return=r,r=o}return u(r);case O:return e(r,o,(l=a._init)(a._payload),s)}if(te(a))return v(r,o,a,s);if(L(a))return y(r,o,a,s);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Mc(a,r.mode,s)).return=r,r=o),u(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ea=ki(Zo),ta=ki(Zo),na=ki(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(ea),Ti(ea,t)}function oa(){Ii(ea),Ii(ta),Ii(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function ua(e){ta.current===e&&(Ii(ea),Ii(ta))}var sa=ki(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,va=null,ya=null,ma=null,ga=!1,ba=!1,wa=0,Sa=0;function _a(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ma=ya=null,t.updateQueue=null,ha.current=cu,e=n(r,i)}while(ba)}if(ha.current=au,t=null!==ya&&null!==ya.next,pa=0,ma=ya=va=null,ga=!1,t)throw Error(o(300));return e}function Ia(){var e=0!==wa;return wa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function xa(){if(null===ya){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function Na(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,va.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==a);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Fs|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);ur(a,t.memoizedState)||(wu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Oa(e,t){var n=va,r=xa(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,wu=!0),r=r.queue,Ka(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Va(9,Ra.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(o(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&Ma(e)}function La(e,t,n){return n((function(){Fa(t)&&Ma(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ma(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,va,e),[t.memoizedState,e]}function Va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return xa().memoizedState}function za(e,t,n,r){var i=Ta();va.flags|=e,i.memoizedState=Va(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Va(t,n,o,r))}va.flags|=e,i.memoizedState=Va(1|t,n,o,r)}function qa(e,t){return za(8390656,8,e,t)}function Ka(e,t){return Ba(2048,8,e,t)}function Ha(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Qa.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),va.lanes|=n,Fs|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function eu(){return xa().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Co(e,t,n,r))){nc(n,e,r,ec()),ou(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,a)){var s=t.interleaved;return null===s?(i.next=i,No(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Co(e,t,i,r))&&(nc(n,e,r,i=ec()),ou(n,t,r))}}function ru(e){var t=e.alternate;return e===va||null!==t&&t===va}function iu(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ou(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var au={readContext:To,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},uu={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:$a,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Za.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cs)throw Error(o(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(La.bind(null,r,a,e),[e]),r.flags|=2048,Va(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Cs.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:To,useCallback:Ya,useContext:To,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Na)},useDebugValue:$a,useDeferredValue:function(e){return Ja(xa(),ya.memoizedState,e)},useTransition:function(){return[Ca(Na)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Oa,useId:eu,unstable_isNewReconciler:!1},cu={readContext:To,useCallback:Ya,useContext:To,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Na)},useDebugValue:$a,useDeferredValue:function(e){var t=xa();return null===ya?t.memoizedState=e:Ja(t,ya.memoizedState,e)},useTransition:function(){return[Aa(Na)[0],xa().memoizedState]},useMutableSource:Da,useSyncExternalStore:Oa,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=w.ReactCurrentOwner,wu=!1;function Su(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=ka(e,t,n,r,o,i),n=Ia(),null===e||wu?(io&&n&&eo(t),t.flags|=1,Su(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ku(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function ku(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return xu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ps,Os),Os|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ps,Os),Os|=r;return Su(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var o=Oi(n)?Ai:Ni.current;return o=Di(t,o),Io(t,i),n=ka(e,t,n,r,o,i),r=Ia(),null===e||wu?(io&&r&&eo(t),t.flags|=1,Su(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Oi(n)){var o=!0;Fi(t)}else o=!1;if(Io(t,i),null===t.stateNode)qu(e,t),Ko(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Di(t,c=Oi(n)?Ai:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&Ho(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Do?("function"===typeof l&&(zo(t,n,l,r),s=t.memoizedState),(u=Do||qo(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:mo(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=To(s):s=Di(t,s=Oi(n)?Ai:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Ho(t,a,r,s),Do=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Do?("function"===typeof d&&(zo(t,n,d,r),p=t.memoizedState),(c=Do||qo(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,o,i)}function Cu(e,t,n,r,i,o){Tu(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ku(e,t,o);r=t.stateNode,bu.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,u,o)):Su(e,t,u,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function Du(e,t,n,r,i){return po(),vo(i),t.flags|=256,Su(e,t,n,r),t.child}var Ou,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,a=sa.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(sa,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,a);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(a=Error(o(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,a,n);if(u){u=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function zu(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Su(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,o);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,oa(),Ii(Ci),Ii(Ni),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Wu(t),null;case 5:ua(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wu(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var s in ge(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ye(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Vr("scroll",e):null!=l&&b(e,a,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return oa(),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return Eo(t.type._context),Wu(t),null;case 19:if(Ii(sa),null===(a=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Hu(a,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ca(e))){for(t.flags|=128,Hu(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Wu(t),null}else 2*Xe()-a.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=sa.current,Ti(sa,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gu(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ii(Ci),Ii(Ni),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(Ii(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(sa),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){kc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&es(t,n,o)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&es(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){kc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(o(160));ds(a,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){kc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){kc(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){kc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),be(s,u);var l=be(s,a);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(y){kc(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){kc(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){kc(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){kc(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){Ss(h);continue}}null!==p?(p.return=d,Ju=p):Ss(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){kc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){kc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,us(e),a);break;default:throw Error(o(161))}}catch(u){kc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$u;if(!a){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=a,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(a=Ju).child,22===a.tag&&null!==a.memoizedState?_s(i):null!==s?(s.return=a,Ju=s):_s(i);for(;null!==o;)Ju=o,bs(o,t,n),o=o.sibling;Ju=i,$u=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ju=o):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vo(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Yu||512&t.flags&&is(t)}catch(d){kc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function Ss(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){kc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){kc(t,i,s)}}var o=t.return;try{is(t)}catch(s){kc(t,o,s)}break;case 5:var a=t.return;try{is(t)}catch(s){kc(t,a,s)}}}catch(s){kc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,ks=Math.ceil,Is=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,xs=w.ReactCurrentBatchConfig,Ns=0,Cs=null,As=null,Ds=0,Os=0,Ps=ki(0),Rs=0,Ls=null,Fs=0,Ms=0,js=0,Vs=null,Us=null,zs=0,Bs=1/0,qs=null,Ks=!1,Hs=null,Ws=null,Qs=!1,Gs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Ns)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ds?Ds&-Ds:null!==yo.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(o(185));mt(e,n,r),0!==(2&Ns)&&e===Cs||(e===Cs&&(0===(2&Ns)&&(Ms|=n),4===Rs&&uc(e,Ds)),rc(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(Bs=Xe()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),u=1<<a,s=i[a];-1===s?0!==(u&n)&&0===(u&r)||(i[a]=dt(u,t)):s<=t&&(e.expiredLanes|=u),o&=~u}}(e,t);var r=ht(e,e===Cs?Ds:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),ai((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Ns))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var a=pc();for(Cs===e&&Ds===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}_o(),Is.current=a,Ns=i,null!==As?t=0:(Cs=null,Ds=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Us,qs),t);break}Sc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-at(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Us,qs),r);break}Sc(e,Us,qs);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&ac(t)),e}function ac(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ns))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Bs=Xe()+500,Vi&&Bi())}}function lc(e){null!==Gs&&0===Gs.tag&&0===(6&Ns)&&_c();var t=Ns;Ns|=1;var n=xs.transition,r=bt;try{if(xs.transition=null,bt=1,e)return e()}finally{bt=r,xs.transition=n,0===(6&(Ns=t))&&Bi()}}function fc(){Os=Ps.current,Ii(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ii(Ci),Ii(Ni),fa();break;case 5:ua(r);break;case 4:oa();break;case 13:case 19:Ii(sa);break;case 10:Eo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cs=e,As=e=Pc(e.current,null),Ds=Os=t,Rs=0,Ls=null,js=Ms=Fs=0,Us=Vs=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function dc(e,t){for(;;){var n=As;try{if(_o(),ha.current=au,ga){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(pa=0,ma=ya=va=null,ba=!1,wa=0,Ts.current=null,null===n||null===n.return){Rs=1,Ls=t,As=null;break}e:{var a=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),vo(lu(c,s));break e}}a=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[a]:Vs.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,pu(0,c,t));break e;case 1:s=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ws||!Ws.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,vu(a,s,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=au,null===e?au:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Cs||0===(268435455&Fs)&&0===(268435455&Ms)||uc(Cs,Ds)}function yc(e,t){var n=Ns;Ns|=2;var r=pc();for(Cs===e&&Ds===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(_o(),Ns=n,Is.current=r,null!==As)throw Error(o(261));return Cs=null,Ds=0,Rs}function mc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!$e();)bc(As)}function bc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):As=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(As=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Rs=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function Sc(e,t,n){var r=bt,i=xs.transition;try{xs.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Gs);if(0!==(6&Ns))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cs&&(As=Cs=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Cc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xs.transition,xs.transition=null;var u=bt;bt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==a||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===a&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:mo(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){kc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ns=s,bt=u,xs.transition=a}else e.current=n;if(Qs&&(Qs=!1,Gs=e,$s=i),0===(a=e.pendingLanes)&&(Ws=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),0!==(1&(a=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{xs.transition=i,bt=r}return null}function _c(){if(null!==Gs){var e=wt($s),t=xs.transition,n=bt;try{if(xs.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,$s=0,0!==(6&Ns))throw Error(o(331));var i=Ns;for(Ns|=4,Ju=e.current;null!==Ju;){var a=Ju,u=a.child;if(0!==(16&Ju.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=a.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(a=Ju).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Ju=g;break e}Ju=a.return}}var b=e.current;for(Ju=b;null!==Ju;){var w=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Ju=w;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){kc(s,s.return,_)}if(s===u){Ju=null;break e}var S=s.sibling;if(null!==S){S.return=s.return,Ju=S;break e}Ju=s.return}}if(Ns=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,xs.transition=t}}return!1}function Ec(e,t,n){e=Lo(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Lo(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ds&n)===n&&(4===Rs||3===Rs&&(130023424&Ds)===Ds&&500>Xe()-zs?hc(e,0):js|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(mt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return Qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,a,t);case k:u=8,i|=8;break;case I:return(e=Dc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=a,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case x:u=9;break e;case N:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,a,u,s){return(e=Uc(n,r,!0,e,0,o,0,u,s)).context=Bc(null),n=e.current,(o=Ro(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nc(e,i,a,o),Fo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Fi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ti(sa,1&sa.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ti(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ni.current);Io(t,n),i=ka(null,t,r,e,i,n);var a=Ia();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Cu(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Su(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(r),e=mo(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),jo(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Du(e,t,r,n,i=lu(Error(o(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ku(e,t,n);break e}Su(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==a&&ni(r,a)&&(t.flags|=32),Tu(e,t),Su(e,t,u,n),t.child;case 6:return null===e&&co(t),null;case 13:return Mu(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Su(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Su(e,t,t.pendingProps,n),t.child;case 8:case 12:return Su(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Ti(go,r._currentValue),r._currentValue=u,null!==a)if(ur(a.value,u)){if(a.children===i.children&&!Ci.current){t=Ku(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ro(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ko(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}Su(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=To(i)),t.flags|=1,Su(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Eu(e,t,r,i=mo(r.type,i),n);case 15:return ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Fi(t)):e=!1,Io(t,n),Ko(t,r,i),Wo(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var u=i;i=function(){var e=Hc(a);u.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ns)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Qc(e,1)}},_t=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},kt=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));Q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,Si,Te,xe,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case u:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:u.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:u,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+N(s,0):o,S(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var l=o+N(u=e[c],c);s+=C(u,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=o+N(u,c++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>o(s,n))c<i&&0>o(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function S(e){if(y=!1,w(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&R(S,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var u=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(S,f.startTime-n),s=!1}return s}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,I=null,T=-1,x=5,N=-1;function C(){return!(t.unstable_now()-N<x)}function A(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?E():(k=!1,I=null)}}else k=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,E=function(){O.postMessage(null)}}else E=function(){m(A,0)};function P(e){I=e,k||(k=!0,E())}function R(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,R(S,o-a))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,u=n)}var a,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=a(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){var t=p();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n){return b=p()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},w(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var _,E="popstate";function k(e){return{usr:e.state,key:e.key}}function I(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function T(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function x(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:T(e);return new URL(n,t)}function C(t,n,r,i){void 0===i&&(i={});var o=i,a=o.window,u=void 0===a?document.defaultView:a,s=o.v5Compat,c=void 0!==s&&s,l=u.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(E,d),h=e,function(){u.removeEventListener(E,d),h=null}},createHref:function(e){return n(u,e)},encodeLocation:function(e){var t=N(T(e));return S({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(t,n){f=e.Push;var i=I(p.location,t,n);r&&r(i,t);var o=k(i),a=p.createHref(i);try{l.pushState(o,"",a)}catch(s){u.location.assign(a)}c&&h&&h({action:f,location:p.location})},replace:function(t,n){f=e.Replace;var i=I(p.location,t,n);r&&r(i,t);var o=k(i),a=p.createHref(i);l.replaceState(o,"",a),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function A(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?x(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=L(i[a],M(r));return o}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(V(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var a=K([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),D(e.children,t,u,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_||(_={}));var O=/^:\w+$/,P=function(e){return"*"===e};function R(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function L(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var u=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;o.push({params:r,pathname:K([i,l.pathname]),pathnameBase:H(K([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=K([i,l.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);U("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=g(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var u=a[0],s=u.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return U(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function M(e){try{return decodeURI(e)}catch(t){return U(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function U(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=x(e):(V(!(i=S({},e)).pathname||!i.pathname.includes("?"),z("?","pathname","search",i)),V(!i.pathname||!i.pathname.includes("#"),z("#","pathname","hash",i)),V(!i.search||!i.search.includes("#"),z("#","search","hash",i)));var o,a=""===e||""===i.pathname,u=a?"/":i.pathname;if(r||null==u)o=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}o=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?x(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,u=void 0===a?"":a,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:W(o),hash:Q(u)}}(i,o),f=u&&"/"!==u&&u.endsWith("/"),h=(a||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var K=function(e){return e.join("/").replace(/\/\/+/g,"/")},H=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},G=function(e){h(n,e);var t=m(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n)}(w(Error));var $=l((function e(t,n,r){s(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Y(e){return e instanceof $}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var X=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(u(X)));function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var Z="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ee=t.useState,te=t.useEffect,ne=t.useLayoutEffect,re=t.useDebugValue;function ie(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Z(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var oe=t.createContext(null);var ae=t.createContext(null);var ue=t.createContext(null);var se=t.createContext(null);var ce=t.createContext(null);var le=t.createContext(null);var fe=t.createContext({outlet:null,matches:[]});var he=t.createContext(null);function de(){return null!=t.useContext(le)}function pe(){return de()||V(!1),t.useContext(le).location}function ve(){de()||V(!1);var e=t.useContext(ce),n=e.basename,r=e.navigator,i=t.useContext(fe).matches,o=pe().pathname,a=JSON.stringify(B(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=q(e,JSON.parse(a),o,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:K([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,a,o]);return s}function ye(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(fe).matches,o=pe().pathname,a=JSON.stringify(B(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return q(e,JSON.parse(a),o,"path"===r)}),[e,a,o,r])}function me(){var e=function(){var e,n=t.useContext(he),r=Ee(be.UseRouteError),i=t.useContext(fe),o=i.matches[i.matches.length-1];if(n)return n;return i||V(!1),!o.route.id&&V(!1),null==(e=r.errors)?void 0:e[o.route.id]}(),n=Y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}var ge,be,we=function(e){h(r,e);var n=m(r);function r(e){var t;return s(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return l(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(he.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Se(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(oe);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(fe.Provider,{value:n},i)}function _e(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,o=null==r?void 0:r.errors;if(null!=o){var a=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||V(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(e,a,u){var s=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||t.createElement(me,null):null,l=function(){return t.createElement(Se,{match:a,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?c:void 0!==a.route.element?a.route.element:e)};return r&&(a.route.errorElement||0===u)?t.createElement(we,{location:r.location,component:c,error:s,children:l()}):l()}),null)}function Ee(e){var n=t.useContext(ue);return n||V(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(ge||(ge={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(be||(be={}));var ke;function Ie(e){var n=e.to,r=e.replace,i=e.state,o=e.relative;de()||V(!1);var a=t.useContext(ue),u=ve();return t.useEffect((function(){a&&"idle"!==a.navigation.state||u(n,{replace:r,state:i,relative:o})})),null}function Te(e){V(!1)}function xe(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,u=n.location,s=n.navigationType,c=void 0===s?e.Pop:s,l=n.navigator,f=n.static,h=void 0!==f&&f;de()&&V(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=x(u));var v=u,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,w=v.hash,S=void 0===w?"":w,_=v.state,E=void 0===_?null:_,k=v.key,I=void 0===k?"default":k,T=t.useMemo((function(){var e=j(m,d);return null==e?null:{pathname:e,search:b,hash:S,state:E,key:I}}),[d,m,b,S,E,I]);return null==T?null:t.createElement(ce.Provider,{value:p},t.createElement(le.Provider,{children:a,value:{location:T,navigationType:c}}))}function Ne(n){var r=n.children,i=n.location,o=t.useContext(ae);return function(n,r){de()||V(!1);var i,o=t.useContext(ue),a=t.useContext(fe).matches,u=a[a.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,pe());if(r){var f,h="string"===typeof r?x(r):r;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||V(!1),i=h}else i=l;var d=i.pathname||"/",p=A(n,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=_e(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:K([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:K([c,e.pathnameBase])})})),a,o||void 0);return r&&v?t.createElement(le.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(o&&!r?o.router.routes:Ae(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ke||(ke={}));var Ce=new Promise((function(){}));t.Component;function Ae(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Te&&V(!1),e.props.index&&e.props.children&&V(!1);var o=[].concat(u(n),[i]),a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Ae(e.props.children,o)),r.push(a)}else r.push.apply(r,Ae(e.props.children,n))})),r}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(){Re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),u=new T(i||[]);return r(a,"_invoke",{value:_(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var y={};s(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(x([])));g&&g!==t&&n.call(g,o)&&(y=g);var b=p.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(r,o,a,u){var s=l(e[r],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(S.prototype),s(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),s(b,u,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Le(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Le(o,r,i,a,u,"next",e)}function u(e){Le(o,r,i,a,u,"throw",e)}a(void 0)}))}}function Me(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function je(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ve=["name"],Ue=["_f"],ze=["_f"],Be=function(e){return"checkbox"===e.type},qe=function(e){return e instanceof Date},Ke=function(e){return null==e},He=function(e){return"object"===typeof e},We=function(e){return!Ke(e)&&!Array.isArray(e)&&He(e)&&!qe(e)},Qe=function(e){return We(e)&&e.target?Be(e.target)?e.target.checked:e.target.value:e},Ge=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},$e=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Ye=function(e){return void 0===e},Xe=function(e,t,n){if(!t||!We(e))return n;var r=$e(t.split(/[,[\].]+?/)).reduce((function(e,t){return Ke(e)?e:e[t]}),e);return Ye(r)||r===e?Ye(e[t])?n:e[t]:r},Je="blur",Ze="focusout",et="onBlur",tt="onChange",nt="onSubmit",rt="onTouched",it="all",ot="max",at="min",ut="maxLength",st="minLength",ct="pattern",lt="required",ft="validate",ht=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},o=function(o){Object.defineProperty(i,o,{get:function(){var i=o;return t._proxyFormState[i]!==it&&(t._proxyFormState[i]=!r||it),n&&(n[i]=!0),e[i]}})};for(var a in e)o(a);return i}),dt=function(e){return We(e)&&!Object.keys(e).length},pt=function(e,t,n){e.name;var r=je(e,Ve);return dt(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||it)}))},vt=function(e){return Array.isArray(e)?e:[e]};function yt(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){t&&t.unsubscribe()}}),[e.disabled])}var mt=function(e){return"string"===typeof e},gt=function(e,t,n,r){return mt(e)?(r&&t.watch.add(e),Xe(n,e)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),Xe(n,e)})):(t.watchAll=!!r,n)},bt="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function wt(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(bt&&(e instanceof Blob||e instanceof FileList)||!n&&!We(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return We(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=wt(e[r]);else t=e}return t}var St=function(e,t,n,r,i){return t?Pe(Pe({},n[e]),{},{types:Pe(Pe({},n[e]&&n[e].types?n[e].types:{}),{},De({},r,i||!0))}):{}},_t=function(e){return/^\w*$/.test(e)},Et=function(e){return $e(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function kt(e,t,n){for(var r=-1,i=_t(t)?[t]:Et(t),o=i.length,a=o-1;++r<o;){var u=i[r],s=n;if(r!==a){var c=e[u];s=We(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var It=function e(t,n,r){var i,o=Me(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,u=Xe(t,a);if(u){var s=u._f,c=je(u,Ue);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else We(c)&&e(c,n)}}}catch(l){o.e(l)}finally{o.f()}},Tt=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||u(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},xt=function(e,t,n){var r=$e(Xe(e,n));return kt(r,"root",t[n]),kt(e,n,r),e},Nt=function(e){return"boolean"===typeof e},Ct=function(e){return"file"===e.type},At=function(e){return"function"===typeof e},Dt=function(e){return mt(e)||t.isValidElement(e)},Ot=function(e){return"radio"===e.type},Pt=function(e){return e instanceof RegExp},Rt={value:!1,isValid:!1},Lt={value:!0,isValid:!0},Ft=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ye(e[0].attributes.value)?Ye(e[0].value)||""===e[0].value?Lt:{value:e[0].value,isValid:!0}:Lt:Rt}return Rt},Mt={isValid:!1,value:null},jt=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Mt):Mt};function Vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Dt(e)||Array.isArray(e)&&e.every(Dt)||Nt(e)&&!e)return{type:n,message:Dt(e)?e:"",ref:t}}var Ut=function(e){return We(e)&&!Pt(e)?e:{value:e,message:""}},zt=function(){var e=Fe(Re().mark((function e(t,n,r,i,o){var a,u,s,c,l,f,h,d,p,v,y,m,g,b,w,S,_,E,k,I,T,x,N,C,A,D,O,P,R,L,F,M,j,V,U,z,B,q,K,H,W,Q,G,$,Y,X,J;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,u=a.ref,s=a.refs,c=a.required,l=a.maxLength,f=a.minLength,h=a.min,d=a.max,p=a.pattern,v=a.validate,y=a.name,m=a.valueAsNumber,g=a.mount,b=a.disabled,g&&!b){e.next=3;break}return e.abrupt("return",{});case 3:if(w=s?s[0]:u,S=function(e){i&&w.reportValidity&&(w.setCustomValidity(Nt(e)?"":e||""),w.reportValidity())},_={},E=Ot(u),k=Be(u),I=E||k,T=(m||Ct(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,x=St.bind(null,y,r,_),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:st,o=e?t:n;_[y]=Pe({type:e?r:i,message:o,ref:u},x(e?r:i,o))},!(o?!Array.isArray(n)||!n.length:c&&(!I&&(T||Ke(n))||Nt(n)&&!n||k&&!Ft(s).isValid||E&&!jt(s).isValid))){e.next=19;break}if(C=Dt(c)?{value:!!c,message:c}:Ut(c),A=C.value,D=C.message,!A){e.next=19;break}if(_[y]=Pe({type:lt,message:D,ref:w},x(lt,D)),r){e.next=19;break}return S(D),e.abrupt("return",_);case 19:if(T||Ke(h)&&Ke(d)){e.next=28;break}if(R=Ut(d),L=Ut(h),Ke(n)||isNaN(n)?(M=u.valueAsDate||new Date(n),j=function(e){return new Date((new Date).toDateString()+" "+e)},V="time"==u.type,U="week"==u.type,mt(R.value)&&n&&(O=V?j(n)>j(R.value):U?n>R.value:M>new Date(R.value)),mt(L.value)&&n&&(P=V?j(n)<j(L.value):U?n<L.value:M<new Date(L.value))):(F=u.valueAsNumber||(n?+n:n),Ke(R.value)||(O=F>R.value),Ke(L.value)||(P=F<L.value)),!O&&!P){e.next=28;break}if(N(!!O,R.message,L.message,ot,at),r){e.next=28;break}return S(_[y].message),e.abrupt("return",_);case 28:if(!l&&!f||T||!(mt(n)||o&&Array.isArray(n))){e.next=38;break}if(z=Ut(l),B=Ut(f),q=!Ke(z.value)&&n.length>z.value,K=!Ke(B.value)&&n.length<B.value,!q&&!K){e.next=38;break}if(N(q,z.message,B.message),r){e.next=38;break}return S(_[y].message),e.abrupt("return",_);case 38:if(!p||T||!mt(n)){e.next=45;break}if(H=Ut(p),W=H.value,Q=H.message,!Pt(W)||n.match(W)){e.next=45;break}if(_[y]=Pe({type:ct,message:Q,ref:u},x(ct,Q)),r){e.next=45;break}return S(Q),e.abrupt("return",_);case 45:if(!v){e.next=79;break}if(!At(v)){e.next=58;break}return e.next=49,v(n);case 49:if(G=e.sent,!($=Vt(G,w))){e.next=56;break}if(_[y]=Pe(Pe({},$),x(ft,$.message)),r){e.next=56;break}return S($.message),e.abrupt("return",_);case 56:e.next=79;break;case 58:if(!We(v)){e.next=79;break}Y={},e.t0=Re().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(X=e.t1.value,dt(Y)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=Vt,e.next=68,v[X](n);case 68:e.t3=e.sent,e.t4=w,e.t5=X,(J=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=Pe(Pe({},J),x(X,J.message)),S(J.message),r&&(_[y]=Y)),e.next=61;break;case 75:if(dt(Y)){e.next=79;break}if(_[y]=Pe({ref:w},Y),r){e.next=79;break}return e.abrupt("return",_);case 79:return S(!0),e.abrupt("return",_);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}();var Bt=function(e){return{isOnSubmit:!e||e===nt,isOnBlur:e===et,isOnChange:e===tt,isOnAll:e===it,isOnTouch:e===rt}};function qt(e){for(var t in e)if(!Ye(e[t]))return!1;return!0}function Kt(e,t){var n,r=_t(t)?[t]:Et(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=Ye(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var u=-1,s=void 0,c=r.slice(0,-(a+1)),l=c.length-1;for(a>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(We(s)&&dt(s)||Array.isArray(s)&&qt(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function Ht(){var e=[];return{get observers(){return e},next:function(t){var n,r=Me(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var Wt=function(e){return Ke(e)||!He(e)};function Qt(e,t){if(Wt(e)||Wt(t))return e===t;if(qe(e)&&qe(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],u=e[a];if(!r.includes(a))return!1;if("ref"!==a){var s=t[a];if(qe(u)&&qe(s)||We(u)&&We(s)||Array.isArray(u)&&Array.isArray(s)?!Qt(u,s):u!==s)return!1}}return!0}var Gt=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$t=function(e){return"select-multiple"===e.type},Yt=function(e){return Ot(e)||Be(e)},Xt=function(e){return Gt(e)&&e.isConnected},Jt=function(e){for(var t in e)if(At(e[t]))return!0;return!1};function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(We(e)||n)for(var r in e)Array.isArray(e[r])||We(e[r])&&!Jt(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Zt(e[r],t[r])):Ke(e[r])||(t[r]=!0);return t}function en(e,t,n){var r=Array.isArray(e);if(We(e)||r)for(var i in e)Array.isArray(e[i])||We(e[i])&&!Jt(e[i])?Ye(t)||Wt(n[i])?n[i]=Array.isArray(e[i])?Zt(e[i],[]):Pe({},Zt(e[i])):en(e[i],Ke(t)?{}:t[i],n[i]):Qt(e[i],t[i])?delete n[i]:n[i]=!0;return n}var tn=function(e,t){return en(e,t,Zt(t))},nn=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return Ye(e)?e:n?""===e?NaN:e?+e:e:r&&mt(e)?new Date(e):i?i(e):e};function rn(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Ct(t)?t.files:Ot(t)?jt(e.refs).value:$t(t)?u(t.selectedOptions).map((function(e){return e.value})):Be(t)?Ft(e.refs).value:nn(Ye(t.value)?e.ref.value:t.value,e)}var on=function(e,t,n,r){var i,o={},a=Me(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,c=Xe(t,s);c&&kt(o,s,c._f)}}catch(l){a.e(l)}finally{a.f()}return{criteriaMode:n,names:u(e),fields:o,shouldUseNativeValidation:r}},an=function(e){return Ye(e)?e:Pt(e)?e.source:We(e)?Pt(e.value)?e.value.source:e.value:e},un=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function sn(e,t,n){var r=Xe(e,n);if(r||_t(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var o=i.join("."),a=Xe(t,o),u=Xe(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};i.pop()}return{name:n}}var cn=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},ln=function(e,t){return!$e(Xe(e,t)).length&&Kt(e,t)},fn={mode:nt,reValidateMode:tt,shouldFocusError:!0};function hn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Pe(Pe({},fn),t),r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},o=wt(n.defaultValues)||{},a=n.shouldUnregister?{}:wt(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={},h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={watch:Ht(),array:Ht(),state:Ht()},p=Bt(n.mode),v=Bt(n.reValidateMode),y=n.criteriaMode===it,m=function(e){return function(t){clearTimeout(l),l=window.setTimeout(e,t)}},g=function(){var e=Fe(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!h.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=dt,e.next=6,k();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,T(i,!0);case 12:e.t0=e.sent;case 13:(t=e.t0)!==r.isValid&&(r.isValid=t,d.state.next({isValid:t}));case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,l&&Array.isArray(Xe(i,e))){var f=n(Xe(i,e),u.argA,u.argB);c&&kt(i,e,f)}if(l&&Array.isArray(Xe(r.errors,e))){var p=n(Xe(r.errors,e),u.argA,u.argB);c&&kt(r.errors,e,p),ln(r.errors,e)}if(h.touchedFields&&l&&Array.isArray(Xe(r.touchedFields,e))){var v=n(Xe(r.touchedFields,e),u.argA,u.argB);c&&kt(r.touchedFields,e,v)}h.dirtyFields&&(r.dirtyFields=tn(o,a)),d.state.next({isDirty:N(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else kt(a,e,t)},w=function(e,t){kt(r.errors,e,t),d.state.next({errors:r.errors})},S=function(e,t,n,r){var u=Xe(i,e);if(u){var c=Xe(a,e,Ye(n)?Xe(o,e):n);Ye(c)||r&&r.defaultChecked||t?kt(a,e,t?c:rn(u._f)):D(e,c),s.mount&&g()}},_=function(e,t,n,i,a){var u=!1,s=!1,c={name:e};if(h.isDirty&&(s=r.isDirty,r.isDirty=c.isDirty=N(),u=s!==c.isDirty),h.dirtyFields&&(!n||i)){s=Xe(r.dirtyFields,e);var l=Qt(Xe(o,e),t);l?Kt(r.dirtyFields,e):kt(r.dirtyFields,e,!0),c.dirtyFields=r.dirtyFields,u=u||s!==!l}if(n){var f=Xe(r.touchedFields,e);f||(kt(r.touchedFields,e,n),c.touchedFields=r.touchedFields,u=u||h.touchedFields&&f!==n)}return u&&a&&d.state.next(c),u?c:{}},E=function(n,i,o,a){var u=Xe(r.errors,n),s=h.isValid&&Nt(i)&&r.isValid!==i;if(t.delayError&&o?(e=m((function(){return w(n,o)})))(t.delayError):(clearTimeout(l),e=null,o?kt(r.errors,n,o):Kt(r.errors,n)),(o?!Qt(u,o):u)||!dt(a)||s){var c=Pe(Pe(Pe({},a),s&&Nt(i)?{isValid:i}:{}),{},{errors:r.errors,name:n});r=Pe(Pe({},r),c),d.state.next(c)}f[n]--,h.isValidating&&!Object.values(f).some((function(e){return e}))&&(d.state.next({isValidating:!1}),f={})},k=function(){var e=Fe(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Pe({},a),n.context,on(t||c.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Fe(Re().mark((function e(t){var n,i,o,a,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(n=e.sent,i=n.errors,t){o=Me(t);try{for(o.s();!(a=o.n()).done;)u=a.value,(s=Xe(i,u))?kt(r.errors,u,s):Kt(r.errors,u)}catch(c){o.e(c)}finally{o.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Fe(Re().mark((function e(t,i){var o,u,s,l,f,h,d,p=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Re().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(s=t[u])){e.next=21;break}if(l=s._f,f=je(s,ze),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,zt(s,Xe(a,l.name),y,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(o.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(Xe(d,l.name)?h?xt(r.errors,d,l.name):kt(r.errors,l.name,d[l.name]):Kt(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,T(f,i,o);case 21:e.next=2;break;case 23:return e.abrupt("return",o.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e,t=Me(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Xe(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Xt(e)})):!Xt(r._f.ref))&&z(n)}}catch(o){t.e(o)}finally{t.f()}c.unMount=new Set},N=function(e,t){return e&&t&&kt(a,e,t),!Qt(F(),o)},C=function(e,t,n){return gt(e,c,Pe({},s.mount?a:Ye(t)?o:mt(e)?De({},e,t):t),n)},A=function(e){return $e(Xe(s.mount?a:o,e,t.shouldUnregister?Xe(o,e,[]):[]))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Xe(i,e),o=t;if(r){var s=r._f;s&&(!s.disabled&&kt(a,e,nn(t,s)),o=bt&&Gt(s.ref)&&Ke(t)?"":t,$t(s.ref)?u(s.ref.options).forEach((function(e){return e.selected=o.includes(e.value)})):s.refs?Be(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((function(t){return t===e.value})):o===e.value)})):s.refs[0]&&(s.refs[0].checked=!!o):s.refs.forEach((function(e){return e.checked=e.value===o})):Ct(s.ref)?s.ref.value="":(s.ref.value=o,s.ref.type||d.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&_(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&L(e)},O=function e(t,n,r){for(var o in n){var a=n[o],u="".concat(t,".").concat(o),s=Xe(i,u);!c.array.has(t)&&Wt(a)&&(!s||s._f)||qe(a)?D(u,a,r):e(u,a,r)}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Xe(i,e),s=c.array.has(e),l=wt(t);kt(a,e,l),s?(d.array.next({name:e,values:a}),(h.isDirty||h.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=tn(o,a),d.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:N(e,l)}))):!u||u._f||Ke(l)?D(e,l,n):O(e,l,n),Tt(e,c)&&d.state.next({}),d.watch.next({name:e})},R=function(){var t=Fe(Re().mark((function t(o){var u,s,l,m,b,w,S,I,T,x,N,C,A,D,O;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.target,s=u.name,!(l=Xe(i,s))){t.next=38;break}if(w=u.type?rn(l._f):Qe(o),S=o.type===Je||o.type===Ze,I=!un(l._f)&&!n.resolver&&!Xe(r.errors,s)&&!l._f.deps||cn(S,Xe(r.touchedFields,s),r.isSubmitted,v,p),T=Tt(s,c,S),kt(a,s,w),S?(l._f.onBlur&&l._f.onBlur(o),e&&e(0)):l._f.onChange&&l._f.onChange(o),x=_(s,w,S,!1),N=!dt(x)||T,!S&&d.watch.next({name:s,type:o.type}),!I){t.next=16;break}return h.isValid&&g(),t.abrupt("return",N&&d.state.next(Pe({name:s},T?{}:x)));case 16:if(!S&&T&&d.state.next({}),f[s]=f[s]?f[s]+1:1,d.state.next({isValidating:!0}),!n.resolver){t.next=31;break}return t.next=22,k([s]);case 22:C=t.sent,A=C.errors,D=sn(r.errors,i,s),O=sn(A,i,D.name||s),m=O.error,s=O.name,b=dt(A),t.next=36;break;case 31:return t.next=33,zt(l,Xe(a,s),y,n.shouldUseNativeValidation);case 33:t.t0=s,m=t.sent[t.t0],g();case 36:l._f.deps&&L(l._f.deps),E(s,b,m,x);case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=Fe(Re().mark((function e(t){var o,a,u,s,l,f=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>1&&void 0!==f[1]?f[1]:{},s=vt(t),d.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,I(Ye(t)?t:s);case 6:l=e.sent,a=dt(l),u=t?!s.some((function(e){return Xe(l,e)})):a,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(s.map(function(){var e=Fe(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe(i,t),e.next=3,T(n&&n._f?De({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&g(),e.next=21;break;case 18:return e.next=20,T(i);case 20:u=a=e.sent;case 21:return d.state.next(Pe(Pe(Pe({},!mt(t)||h.isValid&&a!==r.isValid?{}:{name:t}),n.resolver||!t?{isValid:a}:{}),{},{errors:r.errors,isValidating:!1})),o.shouldFocus&&!u&&It(i,(function(e){return e&&Xe(r.errors,e)}),t?s:c.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Pe(Pe({},o),s.mount?a:{});return Ye(e)?t:mt(e)?Xe(t,e):e.map((function(e){return Xe(t,e)}))},M=function(e,t){return{invalid:!!Xe((t||r).errors,e),isDirty:!!Xe((t||r).dirtyFields,e),isTouched:!!Xe((t||r).touchedFields,e),error:Xe((t||r).errors,e)}},j=function(e){e?vt(e).forEach((function(e){return Kt(r.errors,e)})):r.errors={},d.state.next({errors:r.errors})},V=function(e,t,n){var o=(Xe(i,e,{_f:{}})._f||{}).ref;kt(r.errors,e,Pe(Pe({},t),{},{ref:o})),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},U=function(e,t){return At(e)?d.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},z=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Me(e?vt(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),Xe(i,l)&&(u.keepValue||(Kt(i,l),Kt(a,l)),!u.keepError&&Kt(r.errors,l),!u.keepDirty&&Kt(r.dirtyFields,l),!u.keepTouched&&Kt(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&Kt(o,l))}}catch(f){s.e(f)}finally{s.f()}d.watch.next({}),d.state.next(Pe(Pe({},r),u.keepDirty?{isDirty:N()}:{})),!u.keepIsValid&&g()},B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Xe(i,t),f=Nt(r.disabled);return kt(i,t,Pe(Pe({},l||{}),{},{_f:Pe(Pe({},l&&l._f?l._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),c.mount.add(t),l?f&&kt(a,t,r.disabled?void 0:Xe(a,t,rn(l._f))):S(t,!0,r.value),Pe(Pe(Pe({},f?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:an(r.min),max:an(r.max),minLength:an(r.minLength),maxLength:an(r.maxLength),pattern:an(r.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){e(t,r),l=Xe(i,t);var f=Ye(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,h=Yt(f),d=l._f.refs||[];if(h?d.find((function(e){return e===f})):f===l._f.ref)return;kt(i,t,{_f:Pe(Pe({},l._f),h?{refs:[].concat(u(d.filter(Xt)),[f],u(Array.isArray(Xe(o,t))?[{}]:[])),ref:{type:f.type,name:t}}:{ref:f})}),S(t,!1,void 0,f)}else(l=Xe(i,t,{}))._f&&(l._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!Ge(c.array,t)||!s.action)&&c.unMount.add(t)}))})},q=function(){return n.shouldFocusError&&It(i,(function(e){return e&&Xe(r.errors,e)}),c.mount)},K=function(e,t){return function(){var o=Fe(Re().mark((function o(u){var s,c,l,f,h;return Re().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),s=!0,c=wt(a),d.state.next({isSubmitting:!0}),o.prev=4,!n.resolver){o.next=15;break}return o.next=8,k();case 8:l=o.sent,f=l.errors,h=l.values,r.errors=f,c=h,o.next=17;break;case 15:return o.next=17,T(i);case 17:if(!dt(r.errors)){o.next=23;break}return d.state.next({errors:{},isSubmitting:!0}),o.next=21,e(c,u);case 21:o.next=27;break;case 23:if(!t){o.next=26;break}return o.next=26,t(Pe({},r.errors),u);case 26:q();case 27:o.next=33;break;case 29:throw o.prev=29,o.t0=o.catch(4),s=!1,o.t0;case 33:return o.prev=33,r.isSubmitted=!0,d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dt(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors}),o.finish(33);case 37:case"end":return o.stop()}}),o,null,[[4,29,33,37]])})));return function(e){return o.apply(this,arguments)}}()},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(i,e)&&(Ye(t.defaultValue)?P(e,Xe(o,e)):(P(e,t.defaultValue),kt(o,e,t.defaultValue)),t.keepTouched||Kt(r.touchedFields,e),t.keepDirty||(Kt(r.dirtyFields,e),r.isDirty=t.defaultValue?N(e,Xe(o,e)):N()),t.keepError||(Kt(r.errors,e),h.isValid&&g()),d.state.next(Pe({},r)))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e||o,l=wt(u),f=e&&!dt(e)?l:o;if(n.keepDefaultValues||(o=u),!n.keepValues){if(n.keepDirtyValues){var p,v=Me(c.mount);try{for(v.s();!(p=v.n()).done;){var y=p.value;Xe(r.dirtyFields,y)?kt(f,y,Xe(a,y)):P(y,Xe(f,y))}}catch(E){v.e(E)}finally{v.f()}}else{if(bt&&Ye(e)){var m,g=Me(c.mount);try{for(g.s();!(m=g.n()).done;){var b=m.value,w=Xe(i,b);if(w&&w._f){var S=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Gt(S)){var _=S.closest("form");if(_){_.reset();break}}}}}catch(E){g.e(E)}finally{g.f()}}i={}}a=t.shouldUnregister?n.keepDefaultValues?wt(o):{}:l,d.array.next({values:f}),d.watch.next({values:f})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||Qt(e,o)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?tn(o,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Q=function(e,t){return W(At(e)?e(a):e,t)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xe(i,e),r=n&&n._f;if(r){var o=r.refs?r.refs[0]:r.ref;o.focus&&(o.focus(),t.shouldSelect&&o.select())}};return{control:{register:B,unregister:z,getFieldState:M,_executeSchema:k,_focusError:q,_getWatch:C,_getDirty:N,_updateValid:g,_removeUnmounted:x,_updateFieldArray:b,_getFieldArray:A,_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return a},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Pe(Pe({},n),e)}},trigger:L,register:B,handleSubmit:K,watch:U,setValue:P,getValues:F,reset:Q,resetField:H,clearErrors:j,unregister:z,setError:V,setFocus:G,getFieldState:M}}var dn=n(248),pn=n(327),vn=n(164);var yn=function(e){e()},mn=function(){return yn},gn=(0,t.createContext)(null);function bn(){return(0,t.useContext)(gn)}var wn=function(){throw new Error("uSES not initialized!")},Sn=wn,_n=function(e,t){return e===t};function En(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,n=e===gn?bn:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;var i=n(),o=i.store,a=i.subscription,u=i.getServerState,s=Sn(a.addNestedSub,o.getState,u||o.getState,e,r);return(0,t.useDebugValue)(s),s}}var kn=En();n(110),n(900);var In={notify:function(){},get:function(){return[]}};function Tn(e,t){var n,r=In;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=mn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=In)},getListeners:function(){return r}};return a}var xn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var Nn=function(e){var n=e.store,r=e.context,i=e.children,o=e.serverState,a=(0,t.useMemo)((function(){var e=Tn(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);xn((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,u]);var s=r||gn;return t.createElement(s.Provider,{value:a},i)};function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,n=e===gn?bn:function(){return(0,t.useContext)(e)};return function(){return n().store}}var An=Cn();function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=e===gn?An:Cn(e);return function(){return t().dispatch}}var On,Pn=Dn();!function(e){Sn=e}(pn.useSyncExternalStoreWithSelector),function(e){e}(dn.useSyncExternalStore),On=vn.unstable_batchedUpdates,yn=On;var Rn,Ln=Pn,Fn=kn;!function(e){e[e.success=201]="success",e[e.error=400]="error"}(Rn||(Rn={}));var Mn=function(e,t){return e.map((function(e){return jn(e,t)}))},jn=function e(t,n){var r=t.parts.map((function(t){var r=Vn(n,t);return e(r,n)}));return{name:t.name,id:t.id,parts:r}},Vn=function(e,t){return e.find((function(e){return e.id===t}))},Un=function(e,t){var n=[];return t.forEach((function(t){e[0].forEach((function(e){e===t.placeId&&n.push(t)}))})),n},zn=function(e,t){var n=[];return t.forEach((function(t){Bn(e,t,n)})),n},Bn=function e(t,n,r){if(n.id===t){var i=n.parts.map((function(e){return e.parts.map((function(e){return e.id}))}));r.push([i.flat()].concat(u(n.parts.map((function(e){return e.id}))),[n.id]).flat())}else n.parts.forEach((function(n){e(t,n,r)}))},qn=function(e,t){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},qn(e,t)};function Kn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}qn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hn.apply(this,arguments)};function Wn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function u(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function Qn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(s){u=[6,s],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function Gn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $n(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Yn(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Xn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Zn=function(e){return function(e){var t=Xn(e);return Jn.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function er(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=er(e[n],t[n]));return e}var tr=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function nr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var ir=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,or.prototype.create),o}return Kn(t,e),t}(Error),or=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?ar(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new ir(i,u,r);return s},e}();function ar(e,t){return e.replace(ur,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var ur=/\{\$([^}]+)}/g;function sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function cr(e,t){var n=new lr(e,t);return n.subscribe.bind(n)}var lr=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=fr),void 0===r.error&&(r.error=fr),void 0===r.complete&&(r.complete=fr);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function fr(){}function hr(e){return e&&e._delegate?e._delegate:e}var dr=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),pr="[DEFAULT]",vr=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new tr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch(l){}try{for(var r=Gn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=$n(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(l){}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=pr),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Wn(this,void 0,void 0,(function(){var e;return Qn(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Yn(Yn([],$n(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),$n(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=pr),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=pr),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var u=Gn(this.instancesDeferred.entries()),s=u.next();!s.done;s=u.next()){var c=$n(s.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Gn(i),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(s){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===pr?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch($m){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=pr),this.component?this.component.multipleInstances?e:pr:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var yr,mr=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vr(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function gr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var br,wr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(br||(br={}));var Sr,_r={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},Er=br.INFO,kr=((yr={})[br.DEBUG]="log",yr[br.VERBOSE]="log",yr[br.INFO]="info",yr[br.WARN]="warn",yr[br.ERROR]="error",yr),Ir=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=kr[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,gr(["["+i+"]  "+e.name+":"],n))}},Tr=function(){function e(e){this.name=e,this._logLevel=Er,this._logHandler=Ir,this._userLogHandler=null,wr.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in br))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?_r[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,br.DEBUG],e)),this._logHandler.apply(this,gr([this,br.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,br.VERBOSE],e)),this._logHandler.apply(this,gr([this,br.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,br.INFO],e)),this._logHandler.apply(this,gr([this,br.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,br.WARN],e)),this._logHandler.apply(this,gr([this,br.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,br.ERROR],e)),this._logHandler.apply(this,gr([this,br.ERROR],e))},e}();function xr(e){wr.forEach((function(t){t.setLogLevel(e)}))}var Nr,Cr=((Sr={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Sr["bad-app-name"]="Illegal App name: '{$appName}",Sr["duplicate-app"]="Firebase App named '{$appName}' already exists",Sr["app-deleted"]="Firebase App named '{$appName}' already deleted",Sr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Sr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Sr),Ar=new or("app","Firebase",Cr),Dr="@firebase/app",Or="[DEFAULT]",Pr=((Nr={})[Dr]="fire-core",Nr["@firebase/analytics"]="fire-analytics",Nr["@firebase/app-check"]="fire-app-check",Nr["@firebase/auth"]="fire-auth",Nr["@firebase/database"]="fire-rtdb",Nr["@firebase/functions"]="fire-fn",Nr["@firebase/installations"]="fire-iid",Nr["@firebase/messaging"]="fire-fcm",Nr["@firebase/performance"]="fire-perf",Nr["@firebase/remote-config"]="fire-rc",Nr["@firebase/storage"]="fire-gcs",Nr["@firebase/firestore"]="fire-fst",Nr["fire-js"]="fire-js",Nr["firebase-wrapper"]="fire-js-all",Nr),Rr=new Tr("@firebase/app"),Lr=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=er(void 0,e),this.container=new mr(t.name),this._addComponent(new dr("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Or),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Or),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){Rr.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ar.create("app-deleted",{appName:this.name_})},e}();Lr.prototype.name&&Lr.prototype.options||Lr.prototype.delete||console.log("dc");function Fr(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Or);var a=o.name;if("string"!==typeof a||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(sr(t,a))throw Ar.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Pr[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Rr.warn(s.join(" "))}o(new dr(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:xr,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw Ar.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=_r[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:br[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=wr;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!sr(t,e=e||Or))throw Ar.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Rr.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw Ar.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&er(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var Mr=function e(){var t=Fr(Lr);return t.INTERNAL=Hn(Hn({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){er(t,e)},createSubscribe:cr,ErrorFactory:or,deepExtend:er}),t}(),jr=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Rr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Vr=self.firebase.SDK_VERSION;Vr&&Vr.indexOf("LITE")>=0&&Rr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ur=Mr.initializeApp;Mr.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rr()&&Rr.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ur.apply(void 0,e)};var zr=Mr;!function(e,t){e.INTERNAL.registerComponent(new dr("platform-logger",(function(e){return new jr(e)}),"PRIVATE")),e.registerVersion(Dr,"0.6.30",t),e.registerVersion("fire-js","")}(zr);var Br=zr,qr="8.10.1";Br.registerVersion("firebase",qr,"app"),Br.SDK_VERSION=qr;var Kr=function(e,t){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Kr(e,t)};function Hr(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Wr,Qr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Gr=Gr||{},$r=Qr||self;function Yr(){}function Xr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zr="closure_uid_"+(1e9*Math.random()>>>0),ei=0;function ti(e,t,n){return e.call.apply(e.bind,arguments)}function ni(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ri(e,t,n){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ti:ni).apply(null,arguments)}function ii(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function oi(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ai(){this.s=this.s,this.o=this.o}var ui={};ai.prototype.s=!1,ai.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Zr)&&e[Zr]||(e[Zr]=++ei)}(this);delete ui[e]}},ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var si=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ci=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function li(e){return Array.prototype.concat.apply([],arguments)}function fi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function hi(e){return/^[\s\xa0]*$/.test(e)}var di,pi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function vi(e,t){return-1!=e.indexOf(t)}function yi(e,t){return e<t?-1:e>t?1:0}e:{var mi=$r.navigator;if(mi){var gi=mi.userAgent;if(gi){di=gi;break e}}di=""}function bi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function wi(e){var t={};for(var n in e)t[n]=e[n];return t}var Si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _i(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Si.length;o++)n=Si[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ei(e){return Ei[" "](e),e}Ei[" "]=Yr;var ki,Ii=vi(di,"Opera"),Ti=vi(di,"Trident")||vi(di,"MSIE"),xi=vi(di,"Edge"),Ni=xi||Ti,Ci=vi(di,"Gecko")&&!(vi(di.toLowerCase(),"webkit")&&!vi(di,"Edge"))&&!(vi(di,"Trident")||vi(di,"MSIE"))&&!vi(di,"Edge"),Ai=vi(di.toLowerCase(),"webkit")&&!vi(di,"Edge");function Di(){var e=$r.document;return e?e.documentMode:void 0}e:{var Oi="",Pi=function(){var e=di;return Ci?/rv:([^\);]+)(\)|;)/.exec(e):xi?/Edge\/([\d\.]+)/.exec(e):Ti?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ai?/WebKit\/(\S+)/.exec(e):Ii?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pi&&(Oi=Pi?Pi[1]:""),Ti){var Ri=Di();if(null!=Ri&&Ri>parseFloat(Oi)){ki=String(Ri);break e}}ki=Oi}var Li,Fi={};function Mi(){return function(e){var t=Fi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=pi(String(ki)).split("."),n=pi("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=yi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||yi(0==o[2].length,0==a[2].length)||yi(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if($r.document&&Ti){var ji=Di();Li=ji||(parseInt(ki,10)||void 0)}else Li=void 0;var Vi=Li,Ui=function(){if(!$r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$r.addEventListener("test",Yr,t),$r.removeEventListener("test",Yr,t)}catch(Ig){}return e}();function zi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Bi(e,t){if(zi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ci){e:{try{Ei(t.nodeName);var i=!0;break e}catch(kg){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bi.Z.h.call(this)}}zi.prototype.h=function(){this.defaultPrevented=!0},oi(Bi,zi);var qi={2:"touch",3:"pen",4:"mouse"};Bi.prototype.h=function(){Bi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ki="closure_listenable_"+(1e6*Math.random()|0),Hi=0;function Wi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Hi,this.ca=this.fa=!1}function Qi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gi(e){this.src=e,this.g={},this.h=0}function $i(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=si(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Qi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Gi.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Yi(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Wi(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Xi="closure_lm_"+(1e6*Math.random()|0),Ji={};function Zi(e,t,n,r,i){if(r&&r.once)return to(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zi(e,t[o],n,r,i);return null}return n=so(n),e&&e[Ki]?e.N(t,n,Jr(r)?!!r.capture:!!r,i):eo(e,t,n,!1,r,i)}function eo(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Jr(i)?!!i.capture:!!i,u=ao(e);if(u||(e[Xi]=u=new Gi(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=oo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ui||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(io(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function to(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)to(e,t[o],n,r,i);return null}return n=so(n),e&&e[Ki]?e.O(t,n,Jr(r)?!!r.capture:!!r,i):eo(e,t,n,!0,r,i)}function no(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)no(e,t[o],n,r,i);else r=Jr(r)?!!r.capture:!!r,n=so(n),e&&e[Ki]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yi(o=e.g[t],n,r,i))&&(Qi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ao(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yi(t,n,r,i)),(n=-1<e?t[e]:null)&&ro(n))}function ro(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ki])$i(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(io(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ao(t))?($i(n,e),0==n.h&&(n.src=null,t[Xi]=null)):Qi(e)}}}function io(e){return e in Ji?Ji[e]:Ji[e]="on"+e}function oo(e,t){if(e.ca)e=!0;else{t=new Bi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ro(e),e=n.call(r,t)}return e}function ao(e){return(e=e[Xi])instanceof Gi?e:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(e){return"function"===typeof e?e:(e[uo]||(e[uo]=function(t){return e.handleEvent(t)}),e[uo])}function co(){ai.call(this),this.i=new Gi(this),this.P=this,this.I=null}function lo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zi(t,e);else if(t instanceof zi)t.target=t.target||e;else{var i=t;_i(t=new zi(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=fo(a,r,!0,t)&&i}if(i=fo(a=t.g=e,r,!0,t)&&i,i=fo(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=fo(a=t.g=n[o],r,!1,t)&&i}function fo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&$i(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}oi(co,ai),co.prototype[Ki]=!0,co.prototype.removeEventListener=function(e,t,n,r){no(this,e,t,n,r)},co.prototype.M=function(){if(co.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qi(n[r]);delete t.g[e],t.h--}}this.I=null},co.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},co.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ho=$r.JSON.stringify;function po(){var e=_o,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vo,yo=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=mo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),mo=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new go}),(function(e){return e.reset()})),go=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function bo(e){$r.setTimeout((function(){throw e}),0)}function wo(e,t){vo||function(){var e=$r.Promise.resolve(void 0);vo=function(){e.then(Eo)}}(),So||(vo(),So=!0),_o.add(e,t)}var So=!1,_o=new yo;function Eo(){for(var e;e=po();){try{e.h.call(e.g)}catch(Ig){bo(Ig)}var t=mo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}So=!1}function ko(e,t){co.call(this),this.h=e||1,this.g=t||$r,this.j=ri(this.kb,this),this.l=Date.now()}function Io(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function To(e,t,n){if("function"===typeof e)n&&(e=ri(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ri(e.handleEvent,e)}return 2147483647<Number(t)?-1:$r.setTimeout(e,t||0)}function xo(e){e.g=To((function(){e.g=null,e.i&&(e.i=!1,xo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}oi(ko,co),(Wr=ko.prototype).da=!1,Wr.S=null,Wr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lo(this,"tick"),this.da&&(Io(this),this.start()))}},Wr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wr.M=function(){ko.Z.M.call(this),Io(this),delete this.g};var No=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Kr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:xo(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&($r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ai);function Co(e){ai.call(this),this.h=e,this.g={}}oi(Co,ai);var Ao=[];function Do(e,t,n,r){Array.isArray(n)||(n&&(Ao[0]=n.toString()),n=Ao);for(var i=0;i<n.length;i++){var o=Zi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Oo(e){bi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ro(e)}),e),e.g={}}function Po(){this.g=!0}function Ro(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ho(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Co.prototype.M=function(){Co.Z.M.call(this),Oo(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Po.prototype.Aa=function(){this.g=!1},Po.prototype.info=function(){};var Lo={},Fo=null;function Mo(){return Fo=Fo||new co}function jo(e){zi.call(this,Lo.Ma,e)}function Vo(e){var t=Mo();lo(t,new jo(t,e))}function Uo(e,t){zi.call(this,Lo.STAT_EVENT,e),this.stat=t}function zo(e){var t=Mo();lo(t,new Uo(t,e))}function Bo(e,t){zi.call(this,Lo.Na,e),this.size=t}function qo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $r.setTimeout((function(){e()}),t)}Lo.Ma="serverreachability",oi(jo,zi),Lo.STAT_EVENT="statevent",oi(Uo,zi),Lo.Na="timingevent",oi(Bo,zi);var Ko={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ho={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wo(){}function Qo(e){return e.h||(e.h=e.i())}function Go(){}Wo.prototype.h=null;var $o,Yo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xo(){zi.call(this,"d")}function Jo(){zi.call(this,"c")}function Zo(){}function ea(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Co(this),this.P=na,e=Ni?125:void 0,this.W=new ko(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ta}function ta(){this.i=null,this.g="",this.h=!1}oi(Xo,zi),oi(Jo,zi),oi(Zo,Wo),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},$o=new Zo;var na=45e3,ra={},ia={};function oa(e,t,n){e.K=1,e.v=Na(_a(t)),e.s=n,e.U=!0,aa(e,null)}function aa(e,t){e.F=Date.now(),la(e),e.A=_a(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),za(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ta,e.g=Bu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new No(ri(e.Ia,e,e.g),e.O)),Do(e.V,e.g,"readystatechange",e.gb),t=e.H?wi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vo(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ua(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function sa(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ca(e,n))==ia){4==t&&(e.o=4,zo(14),i=!1),Ro(e.j,e.m,null,"[Incomplete Response]");break}if(r==ra){e.o=4,zo(15),Ro(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ro(e.j,e.m,r,null),va(e,r)}ua(e)&&r!=ia&&r!=ra&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,zo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ru(t),t.L=!0,zo(11))):(Ro(e.j,e.m,n,"[Invalid Chunked Response]"),pa(e),da(e))}function ca(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ia:(n=Number(t.substring(n,r)),isNaN(n)?ra:(r+=1)+n>t.length?ia:(t=t.substr(r,n),e.C=r+n,t))}function la(e){e.Y=Date.now()+e.P,fa(e,e.P)}function fa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qo(ri(e.eb,e),t)}function ha(e){e.B&&($r.clearTimeout(e.B),e.B=null)}function da(e){0==e.l.G||e.I||Mu(e.l,e)}function pa(e){ha(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Io(e.W),Oo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function va(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ga(n.i,e)))if(n.I=e.N,!e.J&&Ga(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fu(n),Iu(n)}Pu(n),zo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=qo(ri(n.ab,n),6e3));if(1>=Qa(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Vu(n,11)}else if((e.J||n.g==e)&&Fu(n),!hi(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(vi(l,"spdy")||vi(l,"quic")||vi(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&($a(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,xa(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=zu(r,r.H?r.la:null,r.W),d.J){Ya(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ha(p),la(p)),r.g=d}else Ou(r);0<n.l.length&&Nu(n)}else"stop"!=o[0]&&"close"!=o[0]||Vu(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Vu(n,7):ku(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Vo(4)}catch(o){}}function ya(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xr(e)||"string"===typeof e)ci(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Xr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Xr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ma(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ma)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ga(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ba(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ba(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ba(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Wr=ea.prototype).setTimeout=function(e){this.P=e},Wr.gb=function(e){e=e.target;var t=this.L;t&&3==bu(e)?t.l():this.Ia(e)},Wr.Ia=function(e){try{if(e==this.g)e:{var t=bu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ni||this.g&&(this.h.h||this.g.ga()||wu(this.g)))){this.I||4!=t||7==n||Vo(8==n||0>=r?3:2),ha(this);var i=this.g.ba();this.N=i;t:if(ua(this)){var o=wu(this.g);e="";var a=o.length,u=4==bu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pa(this),da(this);var s="";break t}this.h.i=new $r.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hi(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,zo(12),pa(this),da(this);break e}Ro(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,va(this,i)}this.U?(sa(this,t,s),Ni&&this.i&&3==t&&(Do(this.V,this.W,"tick",this.fb),this.W.start())):(Ro(this.j,this.m,s,null),va(this,s)),4==t&&pa(this),this.i&&!this.I&&(4==t?Mu(this.l,this):(this.i=!1,la(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,zo(12)):(this.o=0,zo(13)),pa(this),da(this)}}}catch(t){}},Wr.fb=function(){if(this.g){var e=bu(this.g),t=this.g.ga();this.C<t.length&&(ha(this),sa(this,e,t),this.i&&4!=e&&la(this))}},Wr.cancel=function(){this.I=!0,pa(this)},Wr.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vo(3),zo(17)),pa(this),this.o=2,da(this)):fa(this,this.Y-e)},(Wr=ma.prototype).R=function(){ga(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Wr.T=function(){return ga(this),this.g.concat()},Wr.get=function(e,t){return ba(this.h,e)?this.h[e]:t},Wr.set=function(e,t){ba(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Wr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Sa){this.g=void 0!==t?t:e.g,Ea(this,e.j),this.s=e.s,ka(this,e.i),Ia(this,e.m),this.l=e.l,t=e.h;var n=new Ma;n.i=t.i,t.g&&(n.g=new ma(t.g),n.h=t.h),Ta(this,n),this.o=e.o}else e&&(n=String(e).match(wa))?(this.g=!!t,Ea(this,n[1]||"",!0),this.s=Ca(n[2]||""),ka(this,n[3]||"",!0),Ia(this,n[4]),this.l=Ca(n[5]||"",!0),Ta(this,n[6]||"",!0),this.o=Ca(n[7]||"")):(this.g=!!t,this.h=new Ma(null,this.g))}function _a(e){return new Sa(e)}function Ea(e,t,n){e.j=n?Ca(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ka(e,t,n){e.i=n?Ca(t,!0):t}function Ia(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ta(e,t,n){t instanceof Ma?(e.h=t,function(e,t){t&&!e.j&&(ja(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Va(this,t),za(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Aa(t,La)),e.h=new Ma(t,e.g))}function xa(e,t,n){e.h.set(t,n)}function Na(e){return xa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ca(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Aa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Da),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Da(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Aa(t,Oa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Aa(t,Oa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Aa(n,"/"==n.charAt(0)?Ra:Pa,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Aa(n,Fa)),e.join("")};var Oa=/[#\/\?@]/g,Pa=/[#\?:]/g,Ra=/[#\?]/g,La=/[#\?@]/g,Fa=/#/g;function Ma(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ja(e){e.g||(e.g=new ma,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Va(e,t){ja(e),t=Ba(e,t),ba(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ba((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ga(e)))}function Ua(e,t){return ja(e),t=Ba(e,t),ba(e.g.h,t)}function za(e,t,n){Va(e,t),0<n.length&&(e.i=null,e.g.set(Ba(e,t),fi(n)),e.h+=n.length)}function Ba(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wr=Ma.prototype).add=function(e,t){ja(this),this.i=null,e=Ba(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wr.forEach=function(e,t){ja(this),this.g.forEach((function(n,r){ci(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Wr.T=function(){ja(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Wr.R=function(e){ja(this);var t=[];if("string"===typeof e)Ua(this,e)&&(t=li(t,this.g.get(Ba(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=li(t,e[n])}return t},Wr.set=function(e,t){return ja(this),this.i=null,Ua(this,e=Ba(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Wr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var qa=function(e,t){this.h=e,this.g=t};function Ka(e){this.l=e||Ha,$r.PerformanceNavigationTiming?e=0<(e=$r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($r.g&&$r.g.Ea&&$r.g.Ea()&&$r.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ha=10;function Wa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qa(e){return e.h?1:e.g?e.g.size:0}function Ga(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $a(e,t){e.g?e.g.add(t):e.h=t}function Ya(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xa(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Hr(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return fi(e.i)}function Ja(){}function Za(){this.g=new Ja}function eu(e,t,n){var r=n||"";try{ya(e,(function(e,n){var i=e;Jr(e)&&(i=ho(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(kg){}}function nu(e){this.l=e.$b||null,this.j=e.ib||!1}function ru(e,t){co.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=iu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ka.prototype.cancel=function(){var e,t;if(this.i=Xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Hr(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Ja.prototype.stringify=function(e){return $r.JSON.stringify(e,void 0)},Ja.prototype.parse=function(e){return $r.JSON.parse(e,void 0)},oi(nu,Wo),nu.prototype.g=function(){return new ru(this.l,this.j)},nu.prototype.i=function(e){return function(){return e}}({}),oi(ru,co);var iu=0;function ou(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function au(e){e.readyState=4,e.l=null,e.j=null,e.A=null,uu(e)}function uu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wr=ru.prototype).open=function(e,t){if(this.readyState!=iu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,uu(this)},Wr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$r).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Wr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,au(this)),this.readyState=iu},Wr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof $r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ou(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Wr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?au(this):uu(this),3==this.readyState&&ou(this)}},Wr.Ua=function(e){this.g&&(this.response=this.responseText=e,au(this))},Wr.Ta=function(e){this.g&&(this.response=e,au(this))},Wr.ha=function(){this.g&&au(this)},Wr.setRequestHeader=function(e,t){this.v.append(e,t)},Wr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var su=$r.JSON.parse;function cu(e){co.call(this),this.headers=new ma,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lu,this.K=this.L=!1}oi(cu,co);var lu="",fu=/^https?$/i,hu=["POST","PUT"];function du(e){return"content-type"==e.toLowerCase()}function pu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vu(e),mu(e)}function vu(e){e.D||(e.D=!0,lo(e,"complete"),lo(e,"error"))}function yu(e){if(e.h&&"undefined"!=typeof Gr&&(!e.C[1]||4!=bu(e)||2!=e.ba()))if(e.v&&4==bu(e))To(e.Fa,0,e);else if(lo(e,"readystatechange"),4==bu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(wa)[1]||null;if(!o&&$r.self&&$r.self.location){var a=$r.self.location.protocol;o=a.substr(0,a.length-1)}i=!fu.test(o?o.toLowerCase():"")}t=i}if(t)lo(e,"complete"),lo(e,"success");else{e.m=6;try{var u=2<bu(e)?e.g.statusText:""}catch(_g){u=""}e.j=u+" ["+e.ba()+"]",vu(e)}}finally{mu(e)}}}function mu(e,t){if(e.g){gu(e);var n=e.g,r=e.C[0]?Yr:null;e.g=null,e.C=null,t||lo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function gu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($r.clearTimeout(e.A),e.A=null)}function bu(e){return e.g?e.g.readyState:0}function wu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case lu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pg){return null}}function Su(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xa(e,t,n))}function _u(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Eu(e){this.za=0,this.l=[],this.h=new Po,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_u("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_u("baseRetryDelayMs",5e3,e),this.$a=_u("retryDelaySeedMs",1e4,e),this.Ya=_u("forwardChannelMaxRetries",2,e),this.ra=_u("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ka(e&&e.concurrentRequestLimit),this.Ca=new Za,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ku(e){if(Tu(e),3==e.G){var t=e.V++,n=_a(e.F);xa(n,"SID",e.J),xa(n,"RID",t),xa(n,"TYPE","terminate"),Au(e,n),(t=new ea(e,e.h,t,void 0)).K=2,t.v=Na(_a(n)),n=!1,$r.navigator&&$r.navigator.sendBeacon&&(n=$r.navigator.sendBeacon(t.v.toString(),"")),!n&&$r.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),la(t)}Uu(e)}function Iu(e){e.g&&(Ru(e),e.g.cancel(),e.g=null)}function Tu(e){Iu(e),e.u&&($r.clearTimeout(e.u),e.u=null),Fu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&$r.clearTimeout(e.m),e.m=null)}function xu(e,t){e.l.push(new qa(e.Za++,t)),3==e.G&&Nu(e)}function Nu(e){Wa(e.i)||e.m||(e.m=!0,wo(e.Ha,e),e.C=0)}function Cu(e,t){var n;n=t?t.m:e.V++;var r=_a(e.F);xa(r,"SID",e.J),xa(r,"RID",n),xa(r,"AID",e.U),Au(e,r),e.o&&e.s&&Su(r,e.o,e.s),n=new ea(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Du(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$a(e.i,n),oa(n,r,t)}function Au(e,t){e.j&&ya({},(function(e,n){xa(t,n,e)}))}function Du(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ri(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{eu(l,a,"req"+c+"_")}catch(Es){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ou(e){e.g||e.u||(e.Y=1,wo(e.Ga,e),e.A=0)}function Pu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=qo(ri(e.Ga,e),ju(e,e.A)),e.A++,!0)}function Ru(e){null!=e.B&&($r.clearTimeout(e.B),e.B=null)}function Lu(e){e.g=new ea(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=_a(e.oa);xa(t,"RID","rpc"),xa(t,"SID",e.J),xa(t,"CI",e.N?"0":"1"),xa(t,"AID",e.U),Au(e,t),xa(t,"TYPE","xmlhttp"),e.o&&e.s&&Su(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Na(_a(t)),n.s=null,n.U=!0,aa(n,e)}function Fu(e){null!=e.v&&($r.clearTimeout(e.v),e.v=null)}function Mu(e,t){var n=null;if(e.g==t){Fu(e),Ru(e),e.g=null;var r=2}else{if(!Ga(e.i,t))return;n=t.D,Ya(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lo(r=Mo(),new Bo(r,n,t,i)),Nu(e)}else Ou(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Qa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=qo(ri(e.Ha,e,t),ju(e,e.C)),e.C++,!0))}(e,t)||2==r&&Pu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vu(e,5);break;case 4:Vu(e,10);break;case 3:Vu(e,6);break;default:Vu(e,2)}}function ju(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ri(e.jb,e);n||(n=new Sa("//www.google.com/images/cleardot.gif"),$r.location&&"http"==$r.location.protocol||Ea(n,"https"),Na(n)),function(e,t){var n=new Po;if($r.Image){var r=new Image;r.onload=ii(tu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ii(tu,n,r,"TestLoadImage: error",!1,t),r.onabort=ii(tu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ii(tu,n,r,"TestLoadImage: timeout",!1,t),$r.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zo(2);e.G=0,e.j&&e.j.va(t),Uu(e),Tu(e)}function Uu(e){e.G=0,e.I=-1,e.j&&(0==Xa(e.i).length&&0==e.l.length||(e.i.i.length=0,fi(e.l),e.l.length=0),e.j.ua())}function zu(e,t,n){var r=function(e){return e instanceof Sa?_a(e):new Sa(e,void 0)}(n);if(""!=r.i)t&&ka(r,t+"."+r.i),Ia(r,r.m);else{var i=$r.location;r=function(e,t,n,r){var i=new Sa(null,void 0);return e&&Ea(i,e),t&&ka(i,t),n&&Ia(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bi(e.aa,(function(e,t){xa(r,t,e)})),t=e.D,n=e.sa,t&&n&&xa(r,t,n),xa(r,"VER",e.ma),Au(e,r),r}function Bu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new cu(new nu({ib:!0})):new cu(e.qa)).L=e.H,t}function qu(){}function Ku(){if(Ti&&!(10<=Number(Vi)))throw Error("Environmental error: no available transport.")}function Hu(e,t){co.call(this),this.g=new Eu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!hi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gu(this)}function Wu(e){Xo.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qu(){Jo.call(this),this.status=1}function Gu(e){this.g=e}(Wr=cu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$o.g(),this.C=this.u?Qo(this.u):Qo($o),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(kg){return void pu(this,kg)}e=n||"";var i=new ma(this.headers);r&&ya(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=du,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=$r.FormData&&e instanceof $r.FormData,!(0<=si(hu,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gu(this),0<this.B&&((this.K=function(e){return Ti&&Mi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=To(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(kg){pu(this,kg)}},Wr.pa=function(){"undefined"!=typeof Gr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lo(this,"timeout"),this.abort(8))},Wr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lo(this,"complete"),lo(this,"abort"),mu(this))},Wr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mu(this,!0)),cu.Z.M.call(this)},Wr.Fa=function(){this.s||(this.F||this.v||this.l?yu(this):this.cb())},Wr.cb=function(){yu(this)},Wr.ba=function(){try{return 2<bu(this)?this.g.status:-1}catch(Eg){return-1}},Wr.ga=function(){try{return this.g?this.g.responseText:""}catch(Eg){return""}},Wr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),su(t)}},Wr.Da=function(){return this.m},Wr.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wr=Eu.prototype).ma=8,Wr.G=1,Wr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Pg){}},Wr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ea(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_i(n=wi(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Du(this,t,r),xa(i=_a(this.F),"RID",e),xa(i,"CVER",22),this.D&&xa(i,"X-HTTP-Session-Id",this.D),Au(this,i),this.o&&n&&Su(i,this.o,n),$a(this.i,t),this.Ra&&xa(i,"TYPE","init"),this.ja?(xa(i,"$req",r),xa(i,"SID","null"),t.$=!0,oa(t,i,null)):oa(t,i,r),this.G=2}}else 3==this.G&&(e?Cu(this,e):0==this.l.length||Wa(this.i)||Cu(this))},Wr.Ga=function(){if(this.u=null,Lu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=qo(ri(this.bb,this),e)}},Wr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zo(10),Iu(this),Lu(this))},Wr.ab=function(){null!=this.v&&(this.v=null,Iu(this),Pu(this),zo(19))},Wr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),zo(2)):(this.h.info("Failed to ping google.com"),zo(1))},(Wr=qu.prototype).xa=function(){},Wr.wa=function(){},Wr.va=function(){},Wr.ua=function(){},Wr.Oa=function(){},Ku.prototype.g=function(e,t){return new Hu(e,t)},oi(Hu,co),Hu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),wo(ri(e.hb,e,t))),zo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=zu(e,null,e.W),Nu(e)},Hu.prototype.close=function(){ku(this.g)},Hu.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,xu(this.g,t)}else this.v?((t={}).__data__=ho(e),xu(this.g,t)):xu(this.g,e)},Hu.prototype.M=function(){this.g.j=null,delete this.j,ku(this.g),delete this.g,Hu.Z.M.call(this)},oi(Wu,Xo),oi(Qu,Jo),oi(Gu,qu),Gu.prototype.xa=function(){lo(this.g,"a")},Gu.prototype.wa=function(e){lo(this.g,new Wu(e))},Gu.prototype.va=function(e){lo(this.g,new Qu(e))},Gu.prototype.ua=function(){lo(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Hu.prototype.send=Hu.prototype.u,Hu.prototype.open=Hu.prototype.m,Hu.prototype.close=Hu.prototype.close,Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,Ho.COMPLETE="complete",Go.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",co.prototype.listen=co.prototype.N,cu.prototype.listenOnce=cu.prototype.O,cu.prototype.getLastError=cu.prototype.La,cu.prototype.getLastErrorCode=cu.prototype.Da,cu.prototype.getStatus=cu.prototype.ba,cu.prototype.getResponseJson=cu.prototype.Qa,cu.prototype.getResponseText=cu.prototype.ga,cu.prototype.send=cu.prototype.ea;var $u=function(){return new Ku},Yu=function(){return Mo()},Xu=Ko,Ju=Ho,Zu=Lo,es={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ts=nu,ns=Go,rs=cu,is=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();is.o=-1;var os={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},as=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Kn(t,e),t}(Error),us=new Tr("@firebase/firestore");function ss(){return us.logLevel}function cs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(us.logLevel<=br.DEBUG){var r=t.map(hs);us.debug.apply(us,Yn(["Firestore (8.10.1): "+e],r))}}function ls(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(us.logLevel<=br.ERROR){var r=t.map(hs);us.error.apply(us,Yn(["Firestore (8.10.1): "+e],r))}}function fs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(us.logLevel<=br.WARN){var r=t.map(hs);us.warn.apply(us,Yn(["Firestore (8.10.1): "+e],r))}}function hs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ds(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ls(t),new Error(t)}function ps(e,t){e||ds()}function vs(e,t){return e}function ys(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ms=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ys(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function gs(e,t){return e<t?-1:e>t?1:0}function bs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ws(e){return e+"\0"}var Ss=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new as(os.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new as(os.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new as(os.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new as(os.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?gs(this.nanoseconds,e.nanoseconds):gs(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_s=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ss(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Es(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ks(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Is(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ts=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ds(),void 0===n?n=e.length-t:n>e.length-t&&ds(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new as(os.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ts),Ns=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ns.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new as(os.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new as(os.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new as(os.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new as(os.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ts),As=function(){function e(e){this.fields=e,e.sort(Cs.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return bs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ds=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return gs(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Ds.EMPTY_BYTE_STRING=new Ds("");var Os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(e){if(ps(!!e),"string"==typeof e){var t=0,n=Os.exec(e);if(ps(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rs(e.seconds),nanos:Rs(e.nanos)}}function Rs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ls(e){return"string"==typeof e?Ds.fromBase64String(e):Ds.fromUint8Array(e)}function Fs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ms(e){var t=e.mapValue.fields.__previous_value__;return Fs(t)?Ms(t):t}function js(e){var t=Ps(e.mapValue.fields.__local_write_time__.timestampValue);return new Ss(t.seconds,t.nanos)}function Vs(e){return null==e}function Us(e){return 0===e&&1/e==-1/0}function zs(e){return"number"==typeof e&&Number.isInteger(e)&&!Us(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Bs=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(xs.fromString(t))},e.fromName=function(t){return new e(xs.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===xs.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return xs.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new xs(t.slice()))},e}();function qs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fs(e)?4:10:ds()}function Ks(e,t){var n=qs(e);if(n!==qs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return js(e).isEqual(js(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ps(e.timestampValue),r=Ps(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ls(e.bytesValue).isEqual(Ls(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rs(e.geoPointValue.latitude)===Rs(t.geoPointValue.latitude)&&Rs(e.geoPointValue.longitude)===Rs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rs(e.integerValue)===Rs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rs(e.doubleValue),r=Rs(t.doubleValue);return n===r?Us(n)===Us(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bs(e.arrayValue.values||[],t.arrayValue.values||[],Ks);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Es(n)!==Es(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ks(n[i],r[i])))return!1;return!0}(e,t);default:return ds()}}function Hs(e,t){return void 0!==(e.values||[]).find((function(e){return Ks(e,t)}))}function Ws(e,t){var n=qs(e),r=qs(t);if(n!==r)return gs(n,r);switch(n){case 0:return 0;case 1:return gs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rs(e.integerValue||e.doubleValue),r=Rs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qs(e.timestampValue,t.timestampValue);case 4:return Qs(js(e),js(t));case 5:return gs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ls(e),r=Ls(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gs(n[i],r[i]);if(0!==o)return o}return gs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gs(Rs(e.latitude),Rs(t.latitude));return 0!==n?n:gs(Rs(e.longitude),Rs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ws(n[i],r[i]);if(o)return o}return gs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=gs(r[a],o[a]);if(0!==u)return u;var s=Ws(n[r[a]],i[o[a]]);if(0!==s)return s}return gs(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ds()}}function Qs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gs(e,t);var n=Ps(e),r=Ps(t),i=gs(n.seconds,r.seconds);return 0!==i?i:gs(n.nanos,r.nanos)}function Gs(e){return $s(e)}function $s(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ps(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ls(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bs.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=$s(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+$s(e.fields[o])}return t+"}"}(e.mapValue):ds();var t,n}function Ys(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Xs(e){return!!e&&"integerValue"in e}function Js(e){return!!e&&"arrayValue"in e}function Zs(e){return!!e&&"nullValue"in e}function ec(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tc(e){return!!e&&"mapValue"in e}function nc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ks(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nc(e.arrayValue.values[r]);return n}return Object.assign({},e)}var rc=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(t)},e.prototype.setAll=function(e){var t=this,n=Cs.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=nc(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Ks(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){ks(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(nc(this.value))},e}();function ic(e){var t=[];return ks(e.fields,(function(e,n){var r=new Cs([e]);if(tc(n)){var i=ic(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new As(t)}var oc=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,_s.min(),rc.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rc.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rc.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=rc.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=rc.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ac=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function uc(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ac(e,t,n,r,i,o,a)}function sc(e){var t=vs(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Gs(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sc(t.startAt)),t.endAt&&(n+="|ub:",n+=Sc(t.endAt)),t.h=n}return t.h}function cc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ec(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ks(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ic(e.startAt,t.startAt)&&Ic(e.endAt,t.endAt)}function lc(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var fc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Kn(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new hc(e,n,r):"array-contains"===n?new yc(e,r):"in"===n?new mc(e,r):"not-in"===n?new gc(e,r):"array-contains-any"===n?new bc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new dc(e,n):new pc(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ws(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.m(Ws(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ds()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),hc=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Bs.fromName(r.referenceValue),i}return Kn(t,e),t.prototype.matches=function(e){var t=Bs.comparator(e.key,this.key);return this.m(t)},t}(fc),dc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=vc("in",n),r}return Kn(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fc),pc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=vc("not-in",n),r}return Kn(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fc);function vc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bs.fromName(e.referenceValue)}))}var yc=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Kn(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Js(t)&&Hs(t.arrayValue,this.value)},t}(fc),mc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Kn(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Hs(this.value.arrayValue,t)},t}(fc),gc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Kn(t,e),t.prototype.matches=function(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hs(this.value.arrayValue,t)},t}(fc),bc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Kn(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Js(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hs(t.value.arrayValue,e)}))},t}(fc),wc=function(e,t){this.position=e,this.before=t};function Sc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Gs(e)})).join(",")}var _c=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ec(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Bs.comparator(Bs.fromName(a.referenceValue),n.key):Ws(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ic(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ks(e.position[n],t.position[n]))return!1;return!0}var Tc=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function xc(e,t,n,r,i,o,a,u){return new Tc(e,t,n,r,i,o,a,u)}function Nc(e){return new Tc(e)}function Cc(e){return!Vs(e.limit)&&"F"===e.limitType}function Ac(e){return!Vs(e.limit)&&"L"===e.limitType}function Dc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Oc(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Pc(e){return null!==e.collectionGroup}function Rc(e){var t=vs(e);if(null===t.p){t.p=[];var n=Oc(t),r=Dc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new _c(n)),t.p.push(new _c(Cs.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new _c(Cs.keyField(),s))}}}return t.p}function Lc(e){var t=vs(e);if(!t.T)if("F"===t.limitType)t.T=uc(t.path,t.collectionGroup,Rc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Rc(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new _c(o.field,a))}var u=t.endAt?new wc(t.endAt.position,!t.endAt.before):null,s=t.startAt?new wc(t.startAt.position,!t.startAt.before):null;t.T=uc(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function Fc(e,t,n){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mc(e,t){return cc(Lc(e),Lc(t))&&e.limitType===t.limitType}function jc(e){return sc(Lc(e))+"|lt:"+e.limitType}function Vc(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Gs(t.value);var t})).join(", ")+"]"),Vs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Sc(e.startAt)),e.endAt&&(t+=", endAt: "+Sc(e.endAt)),"Target("+t+")"}(Lc(e))+"; limitType="+e.limitType+")"}function Uc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!kc(e.startAt,Rc(e),t))&&(!e.endAt||!kc(e.endAt,Rc(e),t))}(e,t)}function zc(e){return function(t,n){for(var r=!1,i=0,o=Rc(e);i<o.length;i++){var a=o[i],u=Bc(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function Bc(e,t,n){var r=e.field.isKeyField()?Bs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ws(r,i):ds()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ds()}}function qc(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Us(t)?"-0":t}}function Kc(e){return{integerValue:""+e}}function Hc(e,t){return zs(t)?Kc(t):qc(e,t)}var Wc=function(){this._=void 0};function Qc(e,t,n){return e instanceof Yc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xc?Jc(e,t):e instanceof Zc?el(e,t):function(e,t){var n=$c(e,t),r=nl(n)+nl(e.A);return Xs(n)&&Xs(e.A)?Kc(r):qc(e.R,r)}(e,t)}function Gc(e,t,n){return e instanceof Xc?Jc(e,t):e instanceof Zc?el(e,t):n}function $c(e,t){return e instanceof tl?Xs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t}(Wc),Xc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Kn(t,e),t}(Wc);function Jc(e,t){for(var n=rl(t),r=function(e){n.some((function(t){return Ks(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Kn(t,e),t}(Wc);function el(e,t){for(var n=rl(t),r=function(e){n=n.filter((function(t){return!Ks(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Kn(t,e),t}(Wc);function nl(e){return Rs(e.integerValue||e.doubleValue)}function rl(e){return Js(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var il=function(e,t){this.field=e,this.transform=t},ol=function(e,t){this.version=e,this.transformResults=t},al=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ul(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var sl=function(){};function cl(e,t,n){e instanceof pl?function(e,t,n){var r=e.value.clone(),i=ml(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vl?function(e,t,n){if(ul(e.precondition,t)){var r=ml(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ll(e,t,n){e instanceof pl?function(e,t,n){if(ul(e.precondition,t)){var r=e.value.clone(),i=gl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(dl(t),r).setHasLocalMutations()}}(e,t,n):e instanceof vl?function(e,t,n){if(ul(e.precondition,t)){var r=gl(e.fieldTransforms,n,t),i=t.data;i.setAll(yl(e)),i.setAll(r),t.convertToFoundDocument(dl(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ul(e.precondition,t)&&t.convertToNoDocument(_s.min())}(e,t)}function fl(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=$c(o.transform,a||null);null!=u&&(null==n&&(n=rc.empty()),n.set(o.field,u))}return n||null}function hl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bs(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xc&&t instanceof Xc||e instanceof Zc&&t instanceof Zc?bs(e.elements,t.elements,Ks):e instanceof tl&&t instanceof tl?Ks(e.A,t.A):e instanceof Yc&&t instanceof Yc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function dl(e){return e.isFoundDocument()?e.version:_s.min()}var pl=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Kn(t,e),t}(sl),vl=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Kn(t,e),t}(sl);function yl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ml(e,t,n){var r=new Map;ps(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Gc(a,u,n[i]))}return r}function gl(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Qc(u,s,t))}return r}var bl,wl,Sl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Kn(t,e),t}(sl),_l=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Kn(t,e),t}(sl),El=function(e){this.count=e};function kl(e){switch(e){case os.OK:return ds();case os.CANCELLED:case os.UNKNOWN:case os.DEADLINE_EXCEEDED:case os.RESOURCE_EXHAUSTED:case os.INTERNAL:case os.UNAVAILABLE:case os.UNAUTHENTICATED:return!1;case os.INVALID_ARGUMENT:case os.NOT_FOUND:case os.ALREADY_EXISTS:case os.PERMISSION_DENIED:case os.FAILED_PRECONDITION:case os.ABORTED:case os.OUT_OF_RANGE:case os.UNIMPLEMENTED:case os.DATA_LOSS:return!0;default:return ds()}}function Il(e){if(void 0===e)return ls("GRPC error has no .code"),os.UNKNOWN;switch(e){case bl.OK:return os.OK;case bl.CANCELLED:return os.CANCELLED;case bl.UNKNOWN:return os.UNKNOWN;case bl.DEADLINE_EXCEEDED:return os.DEADLINE_EXCEEDED;case bl.RESOURCE_EXHAUSTED:return os.RESOURCE_EXHAUSTED;case bl.INTERNAL:return os.INTERNAL;case bl.UNAVAILABLE:return os.UNAVAILABLE;case bl.UNAUTHENTICATED:return os.UNAUTHENTICATED;case bl.INVALID_ARGUMENT:return os.INVALID_ARGUMENT;case bl.NOT_FOUND:return os.NOT_FOUND;case bl.ALREADY_EXISTS:return os.ALREADY_EXISTS;case bl.PERMISSION_DENIED:return os.PERMISSION_DENIED;case bl.FAILED_PRECONDITION:return os.FAILED_PRECONDITION;case bl.ABORTED:return os.ABORTED;case bl.OUT_OF_RANGE:return os.OUT_OF_RANGE;case bl.UNIMPLEMENTED:return os.UNIMPLEMENTED;case bl.DATA_LOSS:return os.DATA_LOSS;default:return ds()}}(wl=bl||(bl={}))[wl.OK=0]="OK",wl[wl.CANCELLED=1]="CANCELLED",wl[wl.UNKNOWN=2]="UNKNOWN",wl[wl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wl[wl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wl[wl.NOT_FOUND=5]="NOT_FOUND",wl[wl.ALREADY_EXISTS=6]="ALREADY_EXISTS",wl[wl.PERMISSION_DENIED=7]="PERMISSION_DENIED",wl[wl.UNAUTHENTICATED=16]="UNAUTHENTICATED",wl[wl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wl[wl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wl[wl.ABORTED=10]="ABORTED",wl[wl.OUT_OF_RANGE=11]="OUT_OF_RANGE",wl[wl.UNIMPLEMENTED=12]="UNIMPLEMENTED",wl[wl.INTERNAL=13]="INTERNAL",wl[wl.UNAVAILABLE=14]="UNAVAILABLE",wl[wl.DATA_LOSS=15]="DATA_LOSS";var Tl=function(){function e(e,t){this.comparator=e,this.root=t||Nl.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nl.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new xl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new xl(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new xl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new xl(this.root,e,this.comparator,!0)},e}(),xl=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Nl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ds();if(this.right.isRed())throw ds();var e=this.left.check();if(e!==this.right.check())throw ds();return e+(this.isRed()?0:1)},e}();Nl.EMPTY=null,Nl.RED=!0,Nl.BLACK=!1,Nl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ds()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Nl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Cl=function(){function e(e){this.comparator=e,this.data=new Tl(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Al(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Al(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Al=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Dl=new Tl(Bs.comparator);function Ol(){return Dl}var Pl=new Tl(Bs.comparator);function Rl(){return Pl}var Ll=new Tl(Bs.comparator);function Fl(){return Ll}var Ml=new Cl(Bs.comparator);function jl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ml,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vl=new Cl(gs);function Ul(){return Vl}var zl=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_s.min(),r,Ul(),Ol(),jl())},e}(),Bl=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ds.EMPTY_BYTE_STRING,n,jl(),jl(),jl())},e}(),ql=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Kl=function(e,t){this.targetId=e,this.V=t},Hl=function(e,t,n,r){void 0===n&&(n=Ds.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wl=function(){function e(){this.S=0,this.D=$l(),this.C=Ds.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=jl(),t=jl(),n=jl();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ds()}})),new Bl(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=$l()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Ql=function(){function e(e){this.W=e,this.G=new Map,this.H=Ol(),this.J=Gl(),this.Y=new Cl(gs)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:ds()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(lc(i))if(0===n){var o=new Bs(i.path);this.tt(t,o,oc.newNoDocument(o,_s.min()))}else ps(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&lc(o.target)){var a=new Bs(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,oc.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=jl();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new zl(e,n,this.Y,this.H,r);return this.H=Ol(),this.J=Gl(),this.Y=new Cl(gs),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Wl,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Cl(gs),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||cs("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Wl),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Gl(){return new Tl(Bs.comparator)}function $l(){return new Tl(Bs.comparator)}var Yl={asc:"ASCENDING",desc:"DESCENDING"},Xl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jl=function(e,t){this.databaseId=e,this.I=t};function Zl(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ef(e,t){return e.I?t.toBase64():t.toUint8Array()}function tf(e,t){return Zl(e,t.toTimestamp())}function nf(e){return ps(!!e),_s.fromTimestamp(function(e){var t=Ps(e);return new Ss(t.seconds,t.nanos)}(e))}function rf(e,t){return function(e){return new xs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function of(e){var t=xs.fromString(e);return ps(Cf(t)),t}function af(e,t){return rf(e.databaseId,t.path)}function uf(e,t){var n=of(t);if(n.get(1)!==e.databaseId.projectId)throw new as(os.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new as(os.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bs(ff(n))}function sf(e,t){return rf(e.databaseId,t)}function cf(e){var t=of(e);return 4===t.length?xs.emptyPath():ff(t)}function lf(e){return new xs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ff(e){return ps(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hf(e,t,n){return{name:af(e,t),fields:n.value.mapValue.fields}}function df(e,t,n){var r=uf(e,t.name),i=nf(t.updateTime),o=new rc({mapValue:{fields:t.fields}}),a=oc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pf(e,t){var n;if(t instanceof pl)n={update:hf(e,t.key,t.value)};else if(t instanceof Sl)n={delete:af(e,t.key)};else if(t instanceof vl)n={update:hf(e,t.key,t.data),updateMask:Nf(t.fieldMask)};else{if(!(t instanceof _l))return ds();n={verify:af(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tl)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ds()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ds()}(e,t.precondition)),n}function vf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?al.updateTime(nf(e.updateTime)):void 0!==e.exists?al.exists(e.exists):al.none()}(t.currentDocument):al.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ps("REQUEST_TIME"===t.setToServerValue),n=new Yc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Zc(i)}else"increment"in t?n=new tl(e,t.increment):ds();var o=Cs.fromServerFormat(t.fieldPath);return new il(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=uf(e,t.update.name),o=new rc({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new As(t.map((function(e){return Cs.fromServerFormat(e)})))}(t.updateMask);return new vl(i,o,a,n,r)}return new pl(i,o,n,r)}if(t.delete){var u=uf(e,t.delete);return new Sl(u,n)}if(t.verify){var s=uf(e,t.verify);return new _l(s,n)}return ds()}function yf(e,t){return{documents:[sf(e,t.path)]}}function mf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ec(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NAN"}};if(Zs(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ec(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NAN"}};if(Zs(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(e.field),op:Ef(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kf(e.field),direction:_f(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Vs(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=wf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wf(t.endAt)),n}function gf(e){var t=cf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ps(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=bf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new _c(If(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Vs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Sf(n.startAt));var l=null;return n.endAt&&(l=Sf(n.endAt)),xc(t,i,u,a,s,"F",c,l)}function bf(e){return e?void 0!==e.unaryFilter?[xf(e)]:void 0!==e.fieldFilter?[Tf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return bf(e)})).reduce((function(e,t){return e.concat(t)})):ds():[]}function wf(e){return{before:e.before,values:e.position}}function Sf(e){var t=!!e.before,n=e.values||[];return new wc(n,t)}function _f(e){return Yl[e]}function Ef(e){return Xl[e]}function kf(e){return{fieldPath:e.canonicalString()}}function If(e){return Cs.fromServerFormat(e.fieldPath)}function Tf(e){return fc.create(If(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ds()}}(e.fieldFilter.op),e.fieldFilter.value)}function xf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=If(e.unaryFilter.field);return fc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=If(e.unaryFilter.field);return fc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=If(e.unaryFilter.field);return fc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=If(e.unaryFilter.field);return fc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ds()}}function Nf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Af(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Of(t)),t=Df(e.get(n),t);return Of(t)}function Df(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Of(e){return e+"\x01\x01"}function Pf(e){var t=e.length;if(ps(t>=2),2===t)return ps("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xs.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&ds(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:ds()}o=a+2}return new xs(r)}var Rf=function(e,t){this.seconds=e,this.nanoseconds=t},Lf=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Lf.store="owner",Lf.key="owner";var Ff=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ff.store="mutationQueues",Ff.keyPath="userId";var Mf=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mf.store="mutations",Mf.keyPath="batchId",Mf.userMutationsIndex="userMutationsIndex",Mf.userMutationsKeyPath=["userId","batchId"];var jf=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Af(t)]},e.key=function(e,t,n){return[e,Af(t),n]},e}();jf.store="documentMutations",jf.PLACEHOLDER=new jf;var Vf=function(e,t){this.path=e,this.readTime=t},Uf=function(e,t){this.path=e,this.version=t},zf=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zf.store="remoteDocuments",zf.readTimeIndex="readTimeIndex",zf.readTimeIndexPath="readTime",zf.collectionReadTimeIndex="collectionReadTimeIndex",zf.collectionReadTimeIndexPath=["parentPath","readTime"];var Bf=function(e){this.byteSize=e};Bf.store="remoteDocumentGlobal",Bf.key="remoteDocumentGlobalKey";var qf=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};qf.store="targets",qf.keyPath="targetId",qf.queryTargetsIndexName="queryTargetsIndex",qf.queryTargetsKeyPath=["canonicalId","targetId"];var Kf=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kf.store="targetDocuments",Kf.keyPath=["targetId","path"],Kf.documentTargetsIndex="documentTargetsIndex",Kf.documentTargetsKeyPath=["path","targetId"];var Hf=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hf.key="targetGlobalKey",Hf.store="targetGlobal";var Wf=function(e,t){this.collectionId=e,this.parent=t};Wf.store="collectionParents",Wf.keyPath=["collectionId","parent"];var Qf=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Qf.store="clientMetadata",Qf.keyPath="clientId";var Gf=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Gf.store="bundles",Gf.keyPath="bundleId";var $f=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};$f.store="namedQueries",$f.keyPath="name";var Yf=Yn(Yn([],Yn(Yn([],Yn(Yn([],Yn(Yn([],[Ff.store,Mf.store,jf.store,zf.store,qf.store,Lf.store,Hf.store,Kf.store]),[Qf.store])),[Bf.store])),[Wf.store])),[Gf.store,$f.store]),Xf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jf=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Zf=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},eh=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ds(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),th=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Zf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ih(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=ch(t.target.error);n.ft.reject(new ih(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ih(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(cs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ah(t)},e}(),nh=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(nr())&&ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return cs("SimpleDb","Removing database:",e),uh(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=nr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/docsvision-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8",REACT_APP_FIREBASE_APP_ID:"1:130062240176:web:ecbca5d29b37d25c6cee75",REACT_APP_FIREBASE_AUTH_DOMAIN:"dv-inventory.firebaseapp.com",REACT_APP_FIREBASE_DATA_BASE_URL:"https://dv-inventory.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"130062240176",REACT_APP_FIREBASE_PROJECT_ID:"dv-inventory",REACT_APP_FIREBASE_STORAGE_BACKET:"dv-inventory.appspot.com"})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Wn(this,void 0,void 0,(function(){var t,n=this;return Qn(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(cs("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new as(os.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ih(e,n))},i.onupgradeneeded=function(e){cs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){cs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o,a,u,s;return Qn(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return Qn(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=th.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),eh.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,cs("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),rh=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return uh(this.Pt.delete())},e}(),ih=function(e){function t(t,n){var r=this;return(r=e.call(this,os.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Kn(t,e),t}(as);function oh(e){return"IndexedDbTransactionError"===e.name}var ah=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(cs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uh(n)},e.prototype.add=function(e){return cs("SimpleDb","ADD",this.store.name,e,e),uh(this.store.add(e))},e.prototype.get=function(e){var t=this;return uh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),cs("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return cs("SimpleDb","DELETE",this.store.name,e),uh(this.store.delete(e))},e.prototype.count=function(){return cs("SimpleDb","COUNT",this.store.name),uh(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){cs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new eh((function(n,r){t.onerror=function(e){var t=ch(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new eh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rh(i),a=t(i.primaryKey,i.value,o);if(a instanceof eh){var u=a.catch((function(e){return o.done(),eh.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return eh.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function uh(e){return new eh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ch(e.target.error);n(t)}}))}var sh=!1;function ch(e){var t=nh._t(nr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new as("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sh||(sh=!0,setTimeout((function(){throw r}),0)),r}}return e}var lh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Kn(t,e),t}(Jf);function fh(e,t){var n=vs(e);return nh.It(n.Mt,t)}var hh=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cl(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ll(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ll(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_s.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jl())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(function(e,t){return hl(e,t)}))&&bs(this.baseMutations,e.baseMutations,(function(e,t){return hl(e,t)}))},e}(),dh=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){ps(t.mutations.length===r.length);for(var i=Fl(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ph=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=_s.min()),void 0===o&&(o=_s.min()),void 0===a&&(a=Ds.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),vh=function(e){this.Lt=e};function yh(e,t){if(t.document)return df(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Bs.fromSegments(t.noDocument.path),r=Sh(t.noDocument.readTime),i=oc.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Bs.fromSegments(t.unknownDocument.path);return r=Sh(t.unknownDocument.version),oc.newUnknownDocument(o,r)}return ds()}function mh(e,t,n){var r=gh(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:af(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Zl(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new zf(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=wh(t.version);return a=t.hasCommittedMutations,new zf(null,new Vf(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=wh(t.version);return new zf(new Uf(c,l),null,null,!0,r,i)}return ds()}function gh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bh(e){var t=new Ss(e[0],e[1]);return _s.fromTimestamp(t)}function wh(e){var t=e.toTimestamp();return new Rf(t.seconds,t.nanoseconds)}function Sh(e){var t=new Ss(e.seconds,e.nanoseconds);return _s.fromTimestamp(t)}function _h(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vf(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return vf(e.Lt,t)})),u=Ss.fromMillis(t.localWriteTimeMs);return new hh(t.batchId,u,n,a)}function Eh(e){var t,n,r=Sh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sh(e.lastLimboFreeSnapshotVersion):_s.min();return void 0!==e.query.documents?(ps(1===(n=e.query).documents.length),t=Lc(Nc(cf(n.documents[0])))):t=function(e){return Lc(gf(e))}(e.query),new ph(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ds.fromBase64String(e.resumeToken))}function kh(e,t){var n,r=wh(t.snapshotVersion),i=wh(t.lastLimboFreeSnapshotVersion);n=lc(t.target)?yf(e.Lt,t.target):mf(e.Lt,t.target);var o=t.resumeToken.toBase64();return new qf(t.targetId,sc(t.target),r,o,t.sequenceNumber,i,n)}function Ih(e){var t=gf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fc(t,t.limit,"L"):t}var Th=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return xh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Sh(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return xh(e).put({bundleId:(n=t).id,createTime:wh(nf(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Nh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ih(t.bundledQuery),readTime:Sh(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Nh(e).put(function(e){return{name:e.name,readTime:wh(nf(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function xh(e){return fh(e,Gf.store)}function Nh(e){return fh(e,$f.store)}var Ch=function(){function e(){this.Bt=new Ah}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),eh.resolve()},e.prototype.getCollectionParents=function(e,t){return eh.resolve(this.Bt.getEntries(t))},e}(),Ah=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cl(xs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Cl(xs.comparator)).toArray()},e}(),Dh=function(){function e(){this.qt=new Ah}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Af(i)};return Oh(e).put(o)}return eh.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ws(t),""],!1,!0);return Oh(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Pf(o.parent))}return n}))},e}();function Oh(e){return fh(e,Wf.store)}var Ph={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rh=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Lh(e,t,n){var r=e.store(Mf.store),i=e.store(jf.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.$t({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){ps(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=jf.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return eh.waitFor(o).next((function(){return c}))}function Fh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ds();t=e.noDocument}return JSON.stringify(t).length}Rh.DEFAULT_COLLECTION_PERCENTILE=10,Rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rh.DEFAULT=new Rh(41943040,Rh.DEFAULT_COLLECTION_PERCENTILE,Rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rh.DISABLED=new Rh(-1,0,0);var Mh=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return ps(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).$t({index:Mf.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Uh(e),a=Vh(e);return a.add({}).next((function(u){ps("number"==typeof u);for(var s=new hh(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return pf(e.Lt,t)})),i=n.mutations.map((function(t){return pf(e.Lt,t)}));return new Mf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new Cl((function(e,t){return gs(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=jf.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,jf.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[u]=s.keys()})),eh.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Vh(e).get(t).next((function(e){return e?(ps(e.userId===n.userId),_h(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?eh.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vh(e).$t({index:Mf.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ps(t.batchId>=r),o=_h(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vh(e).$t({index:Mf.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).Nt(Mf.userMutationsIndex,n).next((function(e){return e.map((function(e){return _h(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=jf.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Uh(e).$t({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=Pf(s);if(u===n.userId&&t.path.isEqual(l))return Vh(e).get(c).next((function(e){if(!e)throw ds();ps(e.userId===n.userId),o.push(_h(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cl(gs),i=[];return t.forEach((function(t){var o=jf.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=Uh(e).$t({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=Pf(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),eh.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=jf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new Cl(gs);return Uh(e).$t({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=Pf(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vh(e).get(t).next((function(e){if(null===e)throw ds();ps(e.userId===n.userId),r.push(_h(n.R,e))})))})),eh.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Lh(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),eh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return eh.resolve();var r=IDBKeyRange.lowerBound(jf.prefixForUser(t.userId)),i=[];return Uh(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Pf(e[1]);i.push(o)}else r.done()})).next((function(){ps(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return jh(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return zh(e).get(this.userId).next((function(e){return e||new Ff(t.userId,-1,"")}))},e}();function jh(e,t,n){var r=jf.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Uh(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function Vh(e){return fh(e,Mf.store)}function Uh(e){return fh(e,jf.store)}function zh(e){return fh(e,Ff.store)}var Bh=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qh=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Bh(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return _s.fromTimestamp(new Ss(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kh(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return ps(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Kh(e).$t((function(a,u){var s=Eh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return eh.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Kh(e).$t((function(e,n){var r=Eh(n);t(r)}))},e.prototype.Xt=function(e){return Hh(e).get(Hf.key).next((function(e){return ps(null!==e),e}))},e.prototype.Zt=function(e,t){return Hh(e).put(Hf.key,t)},e.prototype.te=function(e,t){return Kh(e).put(kh(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=sc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kh(e).$t({range:r,index:qf.queryTargetsIndexName},(function(e,n,r){var o=Eh(n);cc(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Wh(e);return t.forEach((function(t){var a=Af(t.path);i.push(o.put(new Kf(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),eh.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Wh(e);return eh.forEach(t,(function(t){var o=Af(t.path);return eh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Wh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wh(e),i=jl();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Pf(e[1]),o=new Bs(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Af(t.path),r=IDBKeyRange.bound([n],[ws(n)],!1,!0),i=0;return Wh(e).$t({index:Kf.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Kh(e).get(t).next((function(e){return e?Eh(e):null}))},e}();function Kh(e){return fh(e,qf.store)}function Hh(e){return fh(e,Hf.store)}function Wh(e){return fh(e,Kf.store)}function Qh(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){if(e.code!==os.FAILED_PRECONDITION||e.message!==Xf)throw e;return cs("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Gh(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=gs(n,i);return 0===a?gs(r,o):a}var $h=function(){function e(e){this.ne=e,this.buffer=new Cl(Gh),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Gh(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Yh=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;cs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Wn(t,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return oh(t=n.sent())?(cs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Qh(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Xh=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return eh.resolve(is.o);var r=new $h(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(cs("LruGarbageCollector","Garbage collection skipped; disabled"),eh.resolve(Ph)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(cs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ph):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(cs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ss()<=br.DEBUG&&cs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),eh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Jh=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Xh(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Zh(e,n)},e.prototype.removeReference=function(e,t,n){return Zh(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Zh(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return zh(e).Ot((function(r){return jh(e,r,t).next((function(e){return e&&(n=!0),eh.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Wh(e).delete([0,Af(a.path)])}))}));i.push(s)}})).next((function(){return eh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Zh(e,t)},e.prototype.we=function(e,t){var n,r=Wh(e),i=is.o;return r.$t({index:Kf.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==is.o&&t(new Bs(Pf(n)),i),i=u,n=a):i=is.o})).next((function(){i!==is.o&&t(new Bs(Pf(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Zh(e,t){return Wh(e).put(function(e,t){return new Kf(0,Af(e.path),t)}(t,e.currentSequenceNumber))}var ed=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){ks(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return Is(this.inner)},e}(),td=function(){function e(){this.changes=new ed((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:_s.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:oc.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?eh.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),nd=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return od(e).put(ad(t),n)},e.prototype.removeEntry=function(e,t){var n=od(e),r=ad(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return od(e).get(ad(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return od(e).get(ad(t)).next((function(e){return{document:n.ye(t,e),size:Fh(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Ol();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Ol(),i=new Tl(Bs.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Fh(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return eh.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return od(e).$t({range:r},(function(e,t,r){for(var a=Bs.fromSegments(e);o&&Bs.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Ol(),o=t.path.length+1,a={};if(n.isEqual(_s.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=gh(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=zf.collectionReadTimeIndex}return od(e).$t(a,(function(e,n,a){if(e.length===o){var u=yh(r.R,n);t.path.isPrefixOf(u.key.path)?Uc(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new rd(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return id(e).get(Bf.key).next((function(e){return ps(!!e),e}))},e.prototype.me=function(e,t){return id(e).put(Bf.key,t)},e.prototype.ye=function(e,t){if(t){var n=yh(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(_s.min()))return n}return oc.newInvalidDocument(e)},e}(),rd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ed((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Kn(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Cl((function(e,t){return gs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=mh(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Fh(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=mh(t.Ie.R,oc.newNoDocument(o,_s.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),eh.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(td);function id(e){return fh(e,Bf.store)}function od(e){return fh(e,zf.store)}function ad(e){return e.path.toArray()}var ud=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;ps(n<r&&n>=0&&r<=11);var o=new th("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Lf.store)}(e),function(e){e.createObjectStore(Ff.store,{keyPath:Ff.keyPath}),e.createObjectStore(Mf.store,{keyPath:Mf.keyPath,autoIncrement:!0}).createIndex(Mf.userMutationsIndex,Mf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(jf.store)}(e),sd(e),function(e){e.createObjectStore(zf.store)}(e));var a=eh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kf.store),e.deleteObjectStore(qf.store),e.deleteObjectStore(Hf.store)}(e),sd(e)),a=a.next((function(){return function(e){var t=e.store(Hf.store),n=new Hf(0,0,_s.min().toTimestamp(),0);return t.put(Hf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Mf.store).Nt().next((function(n){e.deleteObjectStore(Mf.store),e.createObjectStore(Mf.store,{keyPath:Mf.keyPath,autoIncrement:!0}).createIndex(Mf.userMutationsIndex,Mf.userMutationsKeyPath,{unique:!0});var r=t.store(Mf.store),i=n.map((function(e){return r.put(e)}));return eh.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Qf.store,{keyPath:Qf.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Bf.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(zf.store);t.createIndex(zf.readTimeIndex,zf.readTimeIndexPath,{unique:!1}),t.createIndex(zf.collectionReadTimeIndex,zf.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Gf.store,{keyPath:Gf.keyPath})}(e),function(e){e.createObjectStore($f.store,{keyPath:$f.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(zf.store).$t((function(e,n){t+=Fh(n)})).next((function(){var n=new Bf(t);return e.store(Bf.store).put(Bf.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Ff.store),r=e.store(Mf.store);return n.Nt().next((function(n){return eh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mf.userMutationsIndex,i).next((function(r){return eh.forEach(r,(function(r){ps(r.userId===n.userId);var i=_h(t.R,r);return Lh(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Kf.store),n=e.store(zf.store);return e.store(Hf.store).get(Hf.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new xs(n),a=function(e){return[0,Af(e)]}(o);r.push(t.get(a).next((function(n){return n?eh.resolve():function(n){return t.put(new Kf(0,Af(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return eh.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Wf.store,{keyPath:Wf.keyPath});var n=t.store(Wf.store),r=new Ah,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Af(i)})}};return t.store(zf.store).$t({Ft:!0},(function(e,t){var n=new xs(e);return i(n.popLast())})).next((function(){return t.store(jf.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Pf(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(qf.store);return n.$t((function(e,r){var i=Eh(r),o=kh(t.R,i);return n.put(o)}))},e}();function sd(e){e.createObjectStore(Kf.store,{keyPath:Kf.keyPath}).createIndex(Kf.documentTargetsIndex,Kf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qf.store,{keyPath:qf.keyPath}).createIndex(qf.queryTargetsIndexName,qf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Hf.store)}var cd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ld=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new as(os.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jh(this,i),this.Le=n+"main",this.R=new vh(s),this.Be=new nh(this.Le,11,new ud(this.R)),this.qe=new qh(this.referenceDelegate,this.R),this.Ut=new Dh,this.Ue=function(e,t){return new nd(e,t)}(this.R,this.Ut),this.Ke=new Th,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ls("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new as(os.FAILED_PRECONDITION,cd);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new is(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Wn(t,void 0,void 0,(function(){return Qn(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Wn(t,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Wn(t,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hd(t).put(new Qf(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(oh(t))return cs("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return cs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return fd(e).get(Lf.key).next((function(e){return eh.resolve(t.tn(e))}))},e.prototype.en=function(e){return hd(e).delete(this.clientId)},e.prototype.nn=function(){return Wn(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Qn(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fh(e,Qf.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return eh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?eh.resolve(!0):fd(e).get(Lf.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new as(os.FAILED_PRECONDITION,cd);return!1}}return!(!t.networkEnabled||!t.inForeground)||hd(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&cs("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Wn(this,void 0,void 0,(function(){var e=this;return Qn(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Lf.store,Qf.store],(function(t){var n=new lh(t,is.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hd(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Mh.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;cs("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Yf,(function(o){return i=new lh(o,r.Ne?r.Ne.next():is.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw ls("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new as(os.FAILED_PRECONDITION,Xf);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return fd(e).get(Lf.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new as(os.FAILED_PRECONDITION,cd)}))},e.prototype.Ze=function(e){var t=new Lf(this.clientId,this.allowTabSynchronization,Date.now());return fd(e).put(Lf.key,t)},e.yt=function(){return nh.yt()},e.prototype.Xe=function(e){var t=this,n=fd(e);return n.get(Lf.key).next((function(e){return t.tn(e)?(cs("IndexedDbPersistence","Releasing primary lease."),n.delete(Lf.key)):eh.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(ls("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!rr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return cs("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return ls("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ls("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fd(e){return fh(e,Lf.store)}function hd(e){return fh(e,Qf.store)}function dd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pd=function(e,t){this.progress=e,this.wn=t},vd=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Pc(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Bs(t)).next((function(e){var t=Rl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Rl();return this.Ut.getCollectionParents(e,i).next((function(a){return eh.forEach(a,(function(a){var u=function(e,t){return new Tc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=oc.newInvalidDocument(c),r=r.insert(c,l)),ll(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Uc(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=jl(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof vl&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),yd=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=jl(),i=jl(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),md=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(_s.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Cc(t)||Ac(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(ss()<=br.DEBUG&&cs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vc(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Cl(zc(e));return t.forEach((function(t,r){Uc(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return ss()<=br.DEBUG&&cs("QueryEngine","Using full collection scan to execute query:",Vc(t)),this.Sn.getDocumentsMatchingQuery(e,t,_s.min())},e}(),gd=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Tl(gs),this.Fn=new ed((function(e){return sc(e)}),cc),this.$n=_s.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new vd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function bd(e,t,n,r){return new gd(e,t,n,r)}function wd(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o;return Qn(this,(function(a){switch(a.label){case 0:return n=vs(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new vd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=jl(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Sd(e,t){var n=vs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=eh.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);ps(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function _d(e){var t=vs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ed(e,t){var n=vs(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return ps(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=Ol();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(kd(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(_s.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return eh.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.kn=i,e}))}function kd(e,t,n,r,i){var o=jl();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Ol();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(_s.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):cs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function Id(e,t){var n=vs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Td(e,t){var n=vs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,eh.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new ph(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function xd(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a;return Qn(this,(function(u){switch(u.label){case 0:r=vs(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!oh(a=u.sent()))throw a;return cs("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Nd(e,t,n){var r=vs(e),i=_s.min(),o=jl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vs(e),i=r.Fn.get(n);return void 0!==i?eh.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Lc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:_s.min(),n?o:jl())})).next((function(e){return{documents:e,Bn:o}}))}))}function Cd(e,t){var n=vs(e),r=vs(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ad(e){var t=vs(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=vs(e),i=Ol(),o=gh(n),a=od(t),u=IDBKeyRange.lowerBound(o,!0);return a.$t({index:zf.readTimeIndex,range:u},(function(e,t){var n=yh(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:bh(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Dd(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){return[2,(t=vs(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=od(e),n=_s.min();return t.$t({index:zf.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=bh(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Od(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,h,d;return Qn(this,(function(p){switch(p.label){case 0:for(i=vs(e),o=jl(),a=Ol(),u=Fl(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Td(i,function(e){return Lc(Nc(xs.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return kd(e,h,a,_s.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Pd(e,t,n){return void 0===n&&(n=jl()),Wn(this,void 0,void 0,(function(){var r,i;return Qn(this,(function(o){switch(o.label){case 0:return[4,Td(e,Lc(Ih(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=vs(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=nf(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Ds.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Rd=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return eh.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:nf(n.createTime)}),eh.resolve()},e.prototype.getNamedQuery=function(e,t){return eh.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ih(e.bundledQuery),readTime:nf(e.readTime)}}(t)),eh.resolve()},e}(),Ld=function(){function e(){this.Wn=new Cl(Fd.Gn),this.zn=new Cl(Fd.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Fd(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Fd(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Bs(new xs([])),r=new Fd(n,e),i=new Fd(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Bs(new xs([])),n=new Fd(t,e),r=new Fd(t,e+1),i=jl();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Fd(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Fd=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Bs.comparator(e.key,t.key)||gs(e.ns,t.ns)},e.Hn=function(e,t){return gs(e.ns,t.ns)||Bs.comparator(e.key,t.key)},e}(),Md=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Cl(Fd.Gn)}return e.prototype.checkEmpty=function(e){return eh.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new hh(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new Fd(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return eh.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return eh.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return eh.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return eh.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return eh.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Fd(t,0),i=new Fd(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),eh.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cl(gs);return t.forEach((function(e){var t=new Fd(e,0),i=new Fd(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),eh.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Bs.isDocumentKey(i)||(i=i.child(""));var o=new Fd(new Bs(i),0),a=new Cl(gs);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),eh.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;ps(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return eh.forEach(t.mutations,(function(i){var o=new Fd(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Fd(t,0),r=this.rs.firstAfterOrEqual(n);return eh.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,eh.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),jd=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Tl(Bs.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return eh.resolve(n?n.document.clone():oc.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Ol();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():oc.newInvalidDocument(e))})),eh.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ol(),i=new Bs(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Uc(t,c)&&(r=r.insert(c.key,c.clone()))}return eh.resolve(r)},e.prototype.fs=function(e,t){return eh.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Vd(this)},e.prototype.getSize=function(e){return eh.resolve(this.size)},e}(),Vd=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Kn(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),eh.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(td),Ud=function(){function e(e){this.persistence=e,this.ds=new ed((function(e){return sc(e)}),cc),this.lastRemoteSnapshotVersion=_s.min(),this.highestTargetId=0,this.ws=0,this._s=new Ld,this.targetCount=0,this.ys=Bh.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),eh.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return eh.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return eh.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),eh.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),eh.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Bh(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,eh.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),eh.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,eh.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),eh.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return eh.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return eh.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),eh.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),eh.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),eh.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return eh.resolve(n)},e.prototype.containsKey=function(e,t){return eh.resolve(this._s.containsKey(t))},e}(),zd=function(){function e(e,t){var n=this;this.gs={},this.Ne=new is(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Ud(this),this.Ut=new Ch,this.Ue=function(e,t){return new jd(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new vh(t),this.Ke=new Rd(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Md(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;cs("MemoryPersistence","Starting transaction:",e);var i=new Bd(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return eh.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Bd=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Kn(t,e),t}(Jf),qd=function(){function e(e){this.persistence=e,this.As=new Ld,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ds()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),eh.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),eh.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),eh.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eh.forEach(this.vs,(function(r){var i=Bs.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return eh.or([function(){return eh.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Kd=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Hd(e,t){return"firestore_clients_"+e+"_"+t}function Wd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qd(e,t){return"firestore_targets_"+e+"_"+t}Kd.UNAUTHENTICATED=new Kd(null),Kd.GOOGLE_CREDENTIALS=new Kd("google-credentials-uid"),Kd.FIRST_PARTY=new Kd("first-party-uid"),Kd.MOCK_USER=new Kd("mock-user");var Gd=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new as(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(ls("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$d=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new as(i.error.code,i.error.message)),o?new e(t,i.state,r):(ls("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Yd=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ul(),a=0;i&&a<r.activeTargetIds.length;++a)i=zs(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(ls("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Xd=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ls("SharedClientState","Failed to parse online state: "+t),null)},e}(),Jd=function(){function e(){this.activeTargetIds=Ul()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Zd=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Tl(gs),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Hd(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Jd),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Wn(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return Qn(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Hd(this.persistenceKey,r)))&&(o=Yd.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.$s;s<c.length;s++)l=c[s],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qd(this.persistenceKey,e));if(n){var r=$d.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Qd(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return cs("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){cs("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){cs("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(cs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ls("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Wn(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Qn(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=is.o;if(null!=e)try{var n=JSON.parse(e);ps("number"==typeof n),t=n}catch(e){ls("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==is.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Gd(this.currentUser,e,t,n),i=Wd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Wd(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Qd(this.persistenceKey,e),i=new $d(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Yd.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gd.Vs(new Kd(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return $d.Vs(r,t)},e.prototype.js=function(e){return Xd.Vs(e)},e.prototype.ii=function(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(cs("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Ul();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ep=function(){function e(){this.li=new Jd,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Jd,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),tp=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),np=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){cs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){cs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),rp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ip=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),op=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Kn(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new rs;a.listenOnce(Ju.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Xu.NO_ERROR:var t=a.getResponseJson();cs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xu.TIMEOUT:cs("Connection",'RPC "'+e+'" timed out'),o(new as(os.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:var n=a.getStatus();if(cs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(os).indexOf(t)>=0?t:os.UNKNOWN}(r.status);o(new as(u,r.message))}else o(new as(os.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new as(os.UNAVAILABLE,"Connection failed."));break;default:ds()}}finally{cs("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=$u(),i=Yu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ts({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())||"object"===typeof navigator&&"ReactNative"===navigator.product||nr().indexOf("Electron/")>=0||function(){var e=nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||nr().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");cs("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new ip({Ei:function(e){c?cs("Connection","Not sending because WebChannel is closed:",e):(s||(cs("Connection","Opening WebChannel transport."),u.open(),s=!0),cs("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,ns.EventType.OPEN,(function(){c||cs("Connection","WebChannel transport opened.")})),f(u,ns.EventType.CLOSE,(function(){c||(c=!0,cs("Connection","WebChannel transport closed"),l.Vi())})),f(u,ns.EventType.ERROR,(function(e){c||(c=!0,fs("Connection","WebChannel transport errored:",e),l.Vi(new as(os.UNAVAILABLE,"The operation could not be completed")))})),f(u,ns.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];ps(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){cs("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=bl[e];if(void 0!==t)return Il(t)}(o),s=i.message;void 0===a&&(a=os.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new as(a,s)),u.close()}else cs("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Zu.STAT_EVENT,(function(e){e.stat===es.PROXY?cs("Connection","Detected buffering proxy"):e.stat===es.NOPROXY&&cs("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);cs("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return cs("RestConnection","Received: ",e),e}),(function(t){throw fs("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=rp[e];return this.Di+"/v1/"+t+":"+n},e}());function ap(){return"undefined"!=typeof window?window:null}function up(){return"undefined"!=typeof document?document:null}function sp(e){return new Jl(e,!0)}var cp=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&cs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),lp=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new cp(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===os.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===os.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new as(os.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Wn(e,void 0,void 0,(function(){return Qn(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return cs("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(cs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),fp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Kn(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ds()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(ps(void 0===t||"string"==typeof t),Ds.fromBase64String(t||"")):(ps(void 0===t||t instanceof Uint8Array),Ds.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?os.UNKNOWN:Il(e.code);return new as(t,e.message||"")}(u);n=new Hl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=uf(e,r.document.name),o=nf(r.document.updateTime);var u=new rc({mapValue:{fields:r.document.fields}}),s=(a=oc.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new ql(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=uf(e,r.document),o=r.readTime?nf(r.readTime):_s.min(),u=oc.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ql([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=uf(e,r.document),o=r.removedTargetIds||[],n=new ql([],o,i,null);else{if(!("filter"in t))return ds();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new El(r),o=l.targetId,n=new Kl(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return _s.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_s.min():t.readTime?nf(t.readTime):_s.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=lf(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=lc(r)?{documents:yf(e,r)}:{query:mf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ef(e,t.resumeToken):t.snapshotVersion.compareTo(_s.min())>0&&(n.readTime=Zl(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ds()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=lf(this.R),t.removeTarget=e,this.cr(t)},t}(lp),hp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Kn(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(ps(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(ps(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nf(e.updateTime):nf(t);return n.isEqual(_s.min())&&(n=nf(t)),new ol(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nf(e.commitTime);return this.listener.Tr(n,t)}return ps(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=lf(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return pf(t.R,e)}))};this.cr(n)},t}(lp),dp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Kn(t,e),t.prototype.br=function(){if(this.Rr)throw new as(os.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===os.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new as(os.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===os.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new as(os.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),pp=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ls(t),this.Vr=!1):cs("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),vp=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Wn(o,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return kp(this)?(cs("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return(t=vs(e)).Or.add(4),[4,mp(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,yp(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new pp(n,r)};function yp(e){return Wn(this,void 0,void 0,(function(){var t,n;return Qn(this,(function(r){switch(r.label){case 0:if(!kp(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function mp(e){return Wn(this,void 0,void 0,(function(){var t,n;return Qn(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function gp(e,t){var n=vs(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ep(n)?_p(n):Vp(n).er()&&wp(n,t))}function bp(e,t){var n=vs(e),r=Vp(n);n.$r.delete(t),r.er()&&Sp(n,t),0===n.$r.size&&(r.er()?r.ir():kp(n)&&n.Br.set("Unknown"))}function wp(e,t){e.qr.U(t.targetId),Vp(e).mr(t)}function Sp(e,t){e.qr.U(t),Vp(e).yr(t)}function _p(e){e.qr=new Ql({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Vp(e).start(),e.Br.Sr()}function Ep(e){return kp(e)&&!Vp(e).tr()&&e.$r.size>0}function kp(e){return 0===vs(e).Or.size}function Ip(e){e.qr=void 0}function Tp(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){return e.$r.forEach((function(t,n){wp(e,t)})),[2]}))}))}function xp(e,t){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(n){return Ip(e),Ep(e)?(e.Br.Nr(t),_p(e)):e.Br.set("Unknown"),[2]}))}))}function Np(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o;return Qn(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Hl&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o;return Qn(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),cs("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Cp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ql?e.qr.X(t):t instanceof Kl?e.qr.rt(t):e.qr.et(t),n.isEqual(_s.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_d(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Ds.EMPTY_BYTE_STRING,n.snapshotVersion)),Sp(e,t);var r=new ph(n.target,t,1,n.sequenceNumber);wp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return cs("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Cp(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Cp(e,t,n){return Wn(this,void 0,void 0,(function(){var r=this;return Qn(this,(function(i){switch(i.label){case 0:if(!oh(t))throw t;return e.Or.add(1),[4,mp(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return _d(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Wn(r,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return cs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,yp(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Ap(e,t){return t().catch((function(n){return Cp(e,n,t)}))}function Dp(e){return Wn(this,void 0,void 0,(function(){var t,n,r,i,o;return Qn(this,(function(a){switch(a.label){case 0:t=vs(e),n=Up(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return kp(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Id(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Up(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Cp(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Op(t)&&Pp(t),[2]}}))}))}function Op(e){return kp(e)&&!Up(e).tr()&&e.Fr.length>0}function Pp(e){Up(e).start()}function Rp(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){return Up(e).Ar(),[2]}))}))}function Lp(e){return Wn(this,void 0,void 0,(function(){var t,n,r,i;return Qn(this,(function(o){for(t=Up(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Fp(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i;return Qn(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=dh.from(r,t,n),[4,Ap(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Dp(e)];case 2:return o.sent(),[2]}}))}))}function Mp(e,t){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(n){switch(n.label){case 0:return t&&Up(e).pr?[4,function(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Qn(this,(function(i){switch(i.label){case 0:return kl(r=t.code)&&r!==os.ABORTED?(n=e.Fr.shift(),Up(e).sr(),[4,Ap(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Dp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Op(e)&&Pp(e),[2]}}))}))}function jp(e,t){return Wn(this,void 0,void 0,(function(){var n;return Qn(this,(function(r){switch(r.label){case 0:return n=vs(e),t?(n.Or.delete(2),[4,yp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,mp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vp(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=vs(e);return r.br(),new fp(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Tp.bind(null,e),Ri:xp.bind(null,e),_r:Np.bind(null,e)}),e.Mr.push((function(n){return Wn(t,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ep(e)?_p(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ip(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Up(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=vs(e);return r.br(),new hp(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rp.bind(null,e),Ri:Mp.bind(null,e),Ir:Lp.bind(null,e),Tr:Fp.bind(null,e)}),e.Mr.push((function(n){return Wn(t,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Dp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(cs("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var zp=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new as(os.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Bp(e,t){if(ls("AsyncQueue",t+": "+e),oh(e))return new as(os.UNAVAILABLE,t+": "+e);throw e}var qp=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Bs.comparator(t.key,n.key)}:function(e,t){return Bs.comparator(e.key,t.key)},this.keyedMap=Rl(),this.sortedSet=new Tl(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Kp=function(){function e(){this.Qr=new Tl(Bs.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):ds():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Hp=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,qp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Wp=function(){this.Wr=void 0,this.listeners=[]},Qp=function(){this.queries=new ed((function(e){return jc(e)}),Mc),this.onlineState="Unknown",this.Gr=new Set};function Gp(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return Qn(this,(function(c){switch(c.label){case 0:if(n=vs(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Wp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=Bp(u,"Initialization of query '"+Vc(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Jp(n),[2]}}))}))}function $p(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a;return Qn(this,(function(u){return n=vs(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Yp(e,t){for(var n=vs(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&Jp(n)}function Xp(e,t,n){var r=vs(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Jp(e){e.Gr.forEach((function(e){e.next()}))}var Zp=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Hp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Hp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ev=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),tv=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return uf(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?df(this.R,e.document,!1):oc.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return nf(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=nv(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new tv(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||jl()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Wn(this,void 0,void 0,(function(){var e,t,n,r,i;return Qn(this,(function(o){switch(o.label){case 0:return[4,Od(this.localStore,new tv(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Pd(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pd(Object.assign({},this.progress),e))]}}))}))}}();function nv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var rv=function(e){this.key=e},iv=function(e){this.key=e},ov=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=jl(),this.mutatedKeys=jl(),this.lo=zc(e),this.fo=new qp(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Kp,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=Cc(this.query)&&i.size===this.query.limit?i.last():null,c=Ac(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Uc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Cc(this.query)||Ac(this.query))for(;a.size>this.query.limit;){var l=Cc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ds()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new Hp(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Kp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=jl(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new iv(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new rv(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=jl();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Hp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),av=function(e,t,n){this.query=e,this.targetId=t,this.view=n},uv=function(e){this.key=e,this.bo=!1},sv=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ed((function(e){return jc(e)}),Mc),this.Vo=new Map,this.So=new Set,this.Do=new Tl(Bs.comparator),this.Co=new Map,this.No=new Ld,this.xo={},this.ko=new Map,this.Fo=Bh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function cv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u;return Qn(this,(function(s){switch(s.label){case 0:return n=jv(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Td(n.localStore,Lc(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,lv(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&gp(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function lv(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o,a,u,s,c;return Qn(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o,a;return Qn(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,Nd(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ev(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Nd(e.localStore,t,!0)];case 1:return i=l.sent(),o=new ov(t,i.Bn),a=o._o(i.documents),u=Bl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),Ev(e,n,s.To),c=new av(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function fv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i;return Qn(this,(function(o){switch(o.label){case 0:return n=vs(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Mc(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),bp(n.remoteStore,r.targetId),Sv(n,r.targetId)})).catch(Qh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Sv(n,r.targetId),[4,xd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function hv(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a;return Qn(this,(function(u){switch(u.label){case 0:r=Vv(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=vs(e),i=Ss.now(),o=t.reduce((function(e,t){return e.add(t.key)}),jl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=fl(c,n.get(c.key));null!=l&&a.push(new vl(c.key,l,ic(l.value.mapValue),al.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Tl(gs)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Tv(r,i.changes)];case 3:return u.sent(),[4,Dp(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Bp(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function dv(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Qn(this,(function(i){switch(i.label){case 0:n=vs(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ed(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(ps(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?ps(r.bo):e.removedDocuments.size>0&&(ps(r.bo),r.bo=!1))})),[4,Tv(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Qh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function pv(e,t,n){var r=vs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Jp(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vv(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a,u,s;return Qn(this,(function(c){switch(c.label){case 0:return(r=vs(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Tl(Bs.comparator)).insert(o,oc.newNoDocument(o,_s.min())),u=jl().add(o),s=new zl(_s.min(),new Map,new Cl(gs),a,u),[4,dv(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Iv(r),[3,4];case 2:return[4,xd(r.localStore,t,!1).then((function(){return Sv(r,t,n)})).catch(Qh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function yv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i;return Qn(this,(function(o){switch(o.label){case 0:n=vs(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Sd(n.localStore,t)];case 2:return i=o.sent(),wv(n,r,null),bv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Tv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function mv(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i;return Qn(this,(function(o){switch(o.label){case 0:r=vs(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=vs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return ps(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),wv(r,t,n),bv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Tv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a;return Qn(this,(function(u){switch(u.label){case 0:kp((n=vs(e)).remoteStore)||cs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=vs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=Bp(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function bv(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function wv(e,t,n){var r=vs(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Sv(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||_v(e,t)}))}function _v(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(bp(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Iv(e))}function Ev(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof rv?(e.No.addReference(o.key,t),kv(e,o)):o instanceof iv?(cs("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||_v(e,o.key)):ds()}}function kv(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(cs("SyncEngine","New document in limbo: "+n),e.So.add(r),Iv(e))}function Iv(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Bs(xs.fromString(t)),r=e.Fo.next();e.Co.set(r,new uv(n)),e.Do=e.Do.insert(n,r),gp(e.remoteStore,new ph(Lc(Nc(n.path)),r,2,is.o))}}function Tv(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a;return Qn(this,(function(u){switch(u.label){case 0:return r=vs(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.Oo(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=yd.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return Qn(this,(function(f){switch(f.label){case 0:n=vs(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return eh.forEach(t,(function(t){return eh.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return eh.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!oh(r=f.sent()))throw r;return cs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.kn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function xv(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Qn(this,(function(i){switch(i.label){case 0:return(n=vs(e)).currentUser.isEqual(t)?[3,3]:(cs("SyncEngine","User change. New user:",t.toKey()),[4,wd(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new as(os.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Tv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Nv(e,t){var n=vs(e),r=n.Co.get(t);if(r&&r.bo)return jl().add(r.key);var i=jl(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function Cv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i;return Qn(this,(function(o){switch(o.label){case 0:return[4,Nd((n=vs(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Ev(n,t.targetId,i.To),i)]}}))}))}function Av(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){return[2,Ad((t=vs(e)).localStore).then((function(e){return Tv(t,e)}))]}))}))}function Dv(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o;return Qn(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=vs(e),r=vs(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):eh.resolve(null)}))}))}((i=vs(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Dp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(wv(i,t,r||null),bv(i,t),function(e,t){vs(vs(e)._n).Gt(t)}(i.localStore,t)):ds(),a.label=4;case 4:return[4,Tv(i,o)];case 5:return a.sent(),[3,7];case 6:cs("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ov(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return Qn(this,(function(l){switch(l.label){case 0:return jv(n=vs(e)),Vv(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Pv(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,jp(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],gp(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return Sv(n,t),xd(n.localStore,t,!0)})),bp(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Pv(n,s)];case 5:return l.sent(),function(e){var t=vs(e);t.Co.forEach((function(e,n){bp(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Tl(Bs.comparator)}(n),n.$o=!1,[4,jp(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Pv(e,t,n){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,h,d,p,v;return Qn(this,(function(y){switch(y.label){case 0:n=vs(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Td(n.localStore,Lc(c[0]))]:[3,7]):[3,13];case 2:s=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Cv(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Cd(n.localStore,u)];case 8:return v=y.sent(),[4,Td(n.localStore,v)];case 9:return s=y.sent(),[4,lv(n,Rv(v),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(s),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Rv(e){return xc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lv(e){var t=vs(e);return vs(vs(t.localStore).persistence).fn()}function Fv(e,t,n,r){return Wn(this,void 0,void 0,(function(){var i,o,a;return Qn(this,(function(u){switch(u.label){case 0:return(i=vs(e)).$o?(cs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ad(i.localStore)];case 3:return o=u.sent(),a=zl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Tv(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,xd(i.localStore,t,!0)];case 6:return u.sent(),Sv(i,t,r),[3,8];case 7:ds(),u.label=8;case 8:return[2]}}))}))}function Mv(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,h;return Qn(this,(function(d){switch(d.label){case 0:if(!(r=jv(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(cs("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cd(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,Td(r.localStore,u)];case 3:return s=d.sent(),[4,lv(r,Rv(u),s.targetId,!1)];case 4:d.sent(),gp(r.remoteStore,s),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Qn(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,xd(r.localStore,e,!1).then((function(){bp(r.remoteStore,e),Sv(r,e)})).catch(Qh)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function jv(e){var t=vs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vv.bind(null,t),t.vo._r=Yp.bind(null,t.eventManager),t.vo.Mo=Xp.bind(null,t.eventManager),t}function Vv(e){var t=vs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mv.bind(null,t),t}var Uv=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return this.R=sp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return bd(this.persistence,new md,e.initialUser,this.R)},e.prototype.qo=function(e){return new zd(qd.bs,this.R)},e.prototype.Bo=function(e){return new ep},e.prototype.terminate=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),zv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Kn(t,e),t.prototype.initialize=function(t){return Wn(this,void 0,void 0,(function(){var n=this;return Qn(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Dd(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Vv(this.Qo.syncEngine)];case 4:return r.sent(),[4,Dp(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return bd(this.persistence,new md,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Yh(t,e.asyncQueue)},t.prototype.qo=function(e){var t=dd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rh.withCacheSize(this.cacheSizeBytes):Rh.DEFAULT;return new ld(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ap(),up(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ep},t}(Uv),Bv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Kn(t,e),t.prototype.initialize=function(t){return Wn(this,void 0,void 0,(function(){var n,r=this;return Qn(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zd?(this.sharedClientState.syncEngine={ui:Dv.bind(null,n),ai:Fv.bind(null,n),hi:Mv.bind(null,n),fn:Lv.bind(null,n),ci:Av.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Wn(r,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return[4,Ov(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ap();if(!Zd.yt(t))throw new as(os.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zd(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(zv),qv=function(){function e(){}return e.prototype.initialize=function(e,t){return Wn(this,void 0,void 0,(function(){var n=this;return Qn(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return pv(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xv.bind(null,this.syncEngine),[4,jp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Qp},e.prototype.createDatastore=function(e){var t,n=sp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new op(t));return function(e,t,n){return new dp(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return pv(a.syncEngine,e,0)},o=np.yt()?new np:new tp,new vp(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new sv(e,t,n,r,i,o);return a&&(u.$o=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return t=vs(e),cs("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,mp(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Kv=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Hv=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Zf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Wn(this,void 0,void 0,(function(){var e,t,n,r;return Qn(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ev(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Wn(this,void 0,void 0,(function(){var e,t;return Qn(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Wn(this,void 0,void 0,(function(){var e,t;return Qn(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Wn(this,void 0,void 0,(function(){var t,n=this;return Qn(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new as(os.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i,o,a,u;return Qn(this,(function(s){switch(s.label){case 0:return n=vs(e),r=lf(n.R)+"/documents",i={documents:t.map((function(e){return af(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){ps(!!t.found),t.found.name,t.found.updateTime;var n=uf(e,t.found.name),r=nf(t.found.updateTime),i=new rc({mapValue:{fields:t.found.fields}});return oc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ps(!!t.missing),ps(!!t.readTime);var n=uf(e,t.missing),r=nf(t.readTime);return oc.newNoDocument(n,r)}(e,t):ds()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());ps(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Wn(this,void 0,void 0,(function(){var e,t=this;return Qn(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Bs.fromPath(n);t.mutations.push(new _l(r,t.precondition(r)))})),[4,function(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i;return Qn(this,(function(o){switch(o.label){case 0:return n=vs(e),r=lf(n.R)+"/documents",i={writes:t.map((function(e){return pf(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ds();t=_s.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new as(os.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?al.updateTime(t):al.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_s.min()))throw new as(os.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return al.updateTime(t)}return al.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Wv=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new cp(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Wn(e,void 0,void 0,(function(){var e,t,n=this;return Qn(this,(function(r){return e=new Hv(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Vs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kl(t)}return!1},e}(),Qv=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Kd.UNAUTHENTICATED,this.clientId=ms.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Wn(r,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return cs("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new as(os.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Wn(e,void 0,void 0,(function(){var e,n;return Qn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Bp(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Gv(e,t){return Wn(this,void 0,void 0,(function(){var n,r,i=this;return Qn(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),cs("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Wn(i,void 0,void 0,(function(){return Qn(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,wd(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function $v(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Qn(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Yv(e)];case 1:return n=i.sent(),cs("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Qn(this,(function(i){switch(i.label){case 0:return(n=vs(e)).asyncQueue.verifyOperationInProgress(),cs("RemoteStore","RemoteStore received new credentials"),r=kp(n),n.Or.add(3),[4,mp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,yp(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Yv(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(cs("FirestoreClient","Using default OfflineComponentProvider"),[4,Gv(e,new Uv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Xv(e){return Wn(this,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(cs("FirestoreClient","Using default OnlineComponentProvider"),[4,$v(e,new qv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Jv(e){return Yv(e).then((function(e){return e.persistence}))}function Zv(e){return Yv(e).then((function(e){return e.localStore}))}function ey(e){return Xv(e).then((function(e){return e.remoteStore}))}function ty(e){return Xv(e).then((function(e){return e.syncEngine}))}function ny(e){return Wn(this,void 0,void 0,(function(){var t,n;return Qn(this,(function(r){switch(r.label){case 0:return[4,Xv(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=cv.bind(null,t.syncEngine),n.onUnlisten=fv.bind(null,t.syncEngine),n)]}}))}))}function ry(e,t,n){var r=this;void 0===n&&(n={});var i=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(r,void 0,void 0,(function(){var r;return Qn(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Kv({next:function(o){t.enqueueAndForget((function(){return $p(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new as(os.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new as(os.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Zp(Nc(n.path),o,{includeMetadataChanges:!0,so:!0});return Gp(e,a)},[4,ny(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function iy(e,t,n){var r=this;void 0===n&&(n={});var i=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(r,void 0,void 0,(function(){var r;return Qn(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Kv({next:function(n){t.enqueueAndForget((function(){return $p(e,a)})),n.fromCache&&"server"===r.source?i.reject(new as(os.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Zp(n,o,{includeMetadataChanges:!0,so:!0});return Gp(e,a)},[4,ny(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var oy=function(e,t,n,r,i,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},ay=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),uy=new Map,sy=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cy=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Kd.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ly=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fy=function(){function e(e){var t=this;this.currentUser=Kd.UNAUTHENTICATED,this.oc=new Zf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){cs("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(cs("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(cs("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ps("string"==typeof n.accessToken),new sy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Wn(n,void 0,void 0,(function(){return Qn(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return ps(null===e||"string"==typeof e),new Kd(e)},e}(),hy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Kd.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),dy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new hy(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Kd.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function py(e,t,n){if(!n)throw new as(os.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function vy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new as(os.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function yy(e,t,n,r){if(!0===t&&!0===r)throw new as(os.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function my(e){if(!Bs.isDocumentKey(e))throw new as(os.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function gy(e){if(Bs.isDocumentKey(e))throw new as(os.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function by(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ds()}function wy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new as(os.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=by(e);throw new as(os.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Sy(e,t){if(t<=0)throw new as(os.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var _y=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new as(os.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new as(os.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ey=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1,e instanceof ay?(this._databaseId=e,this._credentials=new cy):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new as(os.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ay(e.options.projectId)}(e),this._credentials=new fy(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new as(os.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new as(os.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cy;switch(e.type){case"gapi":var t=e.client;return ps(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new dy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new as(os.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=uy.get(this))&&(cs("ComponentProvider","Removing Datastore"),uy.delete(this),e.terminate()),Promise.resolve();var e},e}(),ky=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ty(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Iy=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ty=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Nc(r))||this)._path=r,i.type="collection",i}return Kn(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ky(this.firestore,null,new Bs(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Iy);function xy(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=hr(e),py("collection","path",t),e instanceof Ey)return gy(n=xs.fromString.apply(xs,Yn([t],r))),new Ty(e,null,n);if(!(e instanceof ky||e instanceof Ty))throw new as(os.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gy(n=xs.fromString.apply(xs,Yn([e.path],r)).child(xs.fromString(t))),new Ty(e.firestore,null,n)}function Ny(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=hr(e),1===arguments.length&&(t=ms.u()),py("doc","path",t),e instanceof Ey)return my(n=xs.fromString.apply(xs,Yn([t],r))),new ky(e,null,new Bs(n));if(!(e instanceof ky||e instanceof Ty))throw new as(os.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return my(n=e._path.child(xs.fromString.apply(xs,Yn([t],r)))),new ky(e.firestore,e instanceof Ty?e.converter:null,new Bs(n))}function Cy(e,t){return e=hr(e),t=hr(t),(e instanceof ky||e instanceof Ty)&&(t instanceof ky||t instanceof Ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ay(e,t){return e=hr(e),t=hr(t),e instanceof Iy&&t instanceof Iy&&e.firestore===t.firestore&&Mc(e._query,t._query)&&e.converter===t.converter}var Dy=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new cp(this,"async_queue_retry"),this.Ic=function(){var t=up();t&&cs("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=up();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Zf;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Wn(this,void 0,void 0,(function(){var e,t=this;return Qn(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!oh(e=n.sent()))throw e;return cs("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,ls("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=zp.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&ds()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Wn(this,void 0,void 0,(function(){var e;return Qn(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Oy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Zf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Py=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Dy,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Kn(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ly(this),this._firestoreClient.terminate()},t}(Ey);function Ry(e){return e._firestoreClient||Ly(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ly(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new oy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Qv(e._credentials,e._queue,r)}function Fy(e,t,n){var r=this,i=new Zf;return e.asyncQueue.enqueue((function(){return Wn(r,void 0,void 0,(function(){var r;return Qn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Gv(e,n)];case 1:return o.sent(),[4,$v(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===os.FAILED_PRECONDITION||e.code===os.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function My(e){if(e._initialized||e._terminated)throw new as(os.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new as(os.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Vy=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Ds.fromBase64String(t))}catch(t){throw new as(os.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ds.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Uy=function(e){this._methodName=e},zy=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new as(os.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new as(os.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return gs(this._lat,e._lat)||gs(this._long,e._long)},e}(),By=/^__.*__$/,qy=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)},e}(),Ky=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new vl(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Hy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ds()}}var Wy=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return hm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Hy(this.Nc)&&By.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Qy=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||sp(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Wy({Nc:e,methodName:t,qc:n,path:Cs.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Gy(e){var t=e._freezeSettings(),n=sp(e._databaseId);return new Qy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $y(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);sm("Data must be an object, but it was:",a,r);var u,s,c=am(r,a);if(o.merge)u=new As(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=cm(t,h[f],n);if(!a.contains(d))throw new as(os.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");dm(l,d)||l.push(d)}u=new As(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new qy(new rc(c),u,s)}var Yy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Uy);function Xy(e,t,n){return new Wy({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Jy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype._toFieldTransform=function(e){return new il(e.path,new Yc)},t.prototype.isEqual=function(e){return e instanceof t},t}(Uy),Zy=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Kn(t,e),t.prototype._toFieldTransform=function(e){var t=Xy(this,e,!0),n=this.Kc.map((function(e){return om(e,t)})),r=new Xc(n);return new il(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uy),em=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Kn(t,e),t.prototype._toFieldTransform=function(e){var t=Xy(this,e,!0),n=this.Kc.map((function(e){return om(e,t)})),r=new Zc(n);return new il(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Uy),tm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Kn(t,e),t.prototype._toFieldTransform=function(e){var t=new tl(e.R,Hc(e.R,this.Qc));return new il(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Uy);function nm(e,t,n,r){var i=e.Uc(1,t,n);sm("Data must be an object, but it was:",i,r);var o=[],a=rc.empty();ks(r,(function(e,r){var u=fm(t,e,n);r=hr(r);var s=i.Oc(u);if(r instanceof Yy)o.push(u);else{var c=om(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new As(o);return new Ky(a,u,i.fieldTransforms)}function rm(e,t,n,r,i,o){var a=e.Uc(1,t,n),u=[cm(t,r,n)],s=[i];if(o.length%2!=0)throw new as(os.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(cm(t,o[c])),s.push(o[c+1]);for(var l=[],f=rc.empty(),h=u.length-1;h>=0;--h)if(!dm(l,u[h])){var d=u[h],p=s[h];p=hr(p);var v=a.Oc(d);if(p instanceof Yy)l.push(d);else{var y=om(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new As(l);return new Ky(f,m,a.fieldTransforms)}function im(e,t,n,r){return void 0===r&&(r=!1),om(n,e.Uc(r?4:3,t))}function om(e,t){if(um(e=hr(e)))return sm("Unsupported field value:",t,e),am(e,t);if(e instanceof Uy)return function(e,t){if(!Hy(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=om(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=hr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hc(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ss.fromDate(e);return{timestampValue:Zl(t.R,n)}}if(e instanceof Ss)return n=new Ss(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Zl(t.R,n)};if(e instanceof zy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vy)return{bytesValue:ef(t.R,e._byteString)};if(e instanceof ky){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:rf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+by(e))}(e,t)}function am(e,t){var n={};return Is(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(e,(function(e,r){var i=om(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function um(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ss||e instanceof zy||e instanceof Vy||e instanceof ky||e instanceof Uy)}function sm(e,t,n){if(!um(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=by(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function cm(e,t,n){if((t=hr(t))instanceof jy)return t._internalPath;if("string"==typeof t)return fm(e,t);throw hm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var lm=new RegExp("[~\\*/\\[\\]]");function fm(e,t,n){if(t.search(lm)>=0)throw hm("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(jy.bind.apply(jy,Yn([void 0],t.split(".")))))._internalPath}catch(r){throw hm("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function hm(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new as(os.INVALID_ARGUMENT,(u+=". ")+e+s)}function dm(e,t){return e.some((function(e){return e.isEqual(t)}))}var pm=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ky(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pm);function ym(e,t){return"string"==typeof t?fm(e,t):t instanceof jy?t._internalPath:t._delegate._internalPath}var mm=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),gm=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return Kn(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(pm),bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(gm),wm=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bm(n._firestore,n._userDataWriter,r.key,r,new mm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new as(os.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new bm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Sm(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Sm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ds()}}function _m(e,t){return e instanceof gm&&t instanceof gm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wm&&t instanceof wm&&e._firestore===t._firestore&&Ay(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Em(e){if(Ac(e)&&0===e.explicitOrderBy.length)throw new as(os.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var km=function(){};function Im(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Tm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Kn(t,e),t.prototype._apply=function(e){var t=Gy(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new as(os.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Pm(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(Om(r,e,f))}u={arrayValue:{values:s}}}else u=Om(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Pm(a,o),u=im(n,"where",a,"in"===o||"not-in"===o);var h=fc.create(i,o,u);return function(e,t){if(t.g()){var n=Oc(e);if(null!==n&&!n.isEqual(t.field))throw new as(os.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Dc(e);null!==r&&Rm(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new as(os.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new as(os.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Iy(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(km),xm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Kn(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new as(os.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new as(os.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _c(t,n);return function(e,t){if(null===Dc(e)){var n=Oc(e);null!==n&&Rm(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Iy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Tc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(km),Nm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Kn(t,e),t.prototype._apply=function(e){return new Iy(e.firestore,e.converter,Fc(e._query,this.Hc,this.Jc))},t}(km),Cm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Kn(t,e),t.prototype._apply=function(e){var t=Dm(e,this.type,this.Yc,this.Xc);return new Iy(e.firestore,e.converter,function(e,t){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(km),Am=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Kn(t,e),t.prototype._apply=function(e){var t=Dm(e,this.type,this.Yc,this.Xc);return new Iy(e.firestore,e.converter,function(e,t){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(km);function Dm(e,t,n,r){if(n[0]=hr(n[0]),n[0]instanceof pm)return function(e,t,n,r,i){if(!r)throw new as(os.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=Rc(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(Ys(t,r.key));else{var c=r.data.field(s.field);if(Fs(c))throw new as(os.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new as(os.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new wc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Gy(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new as(os.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new as(os.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Pc(e)&&-1!==c.indexOf("/"))throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(xs.fromString(c));if(!Bs.isDocumentKey(l))throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Bs(l);u.push(Ys(t,f))}else{var h=im(n,r,c);u.push(h)}}return new wc(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Om(e,t,n){if("string"==typeof(n=hr(n))){if(""===n)throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pc(t)&&-1!==n.indexOf("/"))throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(xs.fromString(n));if(!Bs.isDocumentKey(r))throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ys(e,new Bs(r))}if(n instanceof ky)return Ys(e,n._key);throw new as(os.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+by(n)+".")}function Pm(e,t){if(!Array.isArray(e)||0===e.length)throw new as(os.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new as(os.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Rm(e,t,n){if(!n.isEqual(t))throw new as(os.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Lm=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ds()}},e.prototype.convertObject=function(e,t){var n=this,r={};return ks(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new zy(Rs(e.latitude),Rs(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ms(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(js(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Ps(e);return new Ss(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=xs.fromString(e);ps(Cf(n));var r=new ay(n.get(1),n.get(3)),i=new Bs(n.popFirst(5));return r.isEqual(t)||ls("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Fm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Mm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Kn(t,e),t.prototype.convertBytes=function(e){return new Vy(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ky(this.firestore,null,t)},t}(Lm),jm=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gy(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Vm(e,this._firestore),i=Fm(r.converter,t,n),o=$y(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,al.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Vm(e,this._firestore);return o="string"==typeof(t=hr(t))||t instanceof jy?rm(this._dataReader,"WriteBatch.update",a._key,t,n,r):nm(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,al.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Vm(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(t._key,al.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new as(os.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Vm(e,t){if((e=hr(e)).firestore!==t)throw new as(os.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Um=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Kn(t,e),t.prototype.convertBytes=function(e){return new Vy(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ky(this.firestore,null,t)},t}(Lm);function zm(e,t,n){e=wy(e,ky);var r=wy(e.firestore,Py),i=Fm(e.converter,t,n);return Km(r,[$y(Gy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,al.none())])}function Bm(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=wy(e,ky);var o=wy(e.firestore,Py),a=Gy(o);return Km(o,[("string"==typeof(t=hr(t))||t instanceof jy?rm(a,"updateDoc",e._key,t,n,r):nm(a,"updateDoc",e._key,t)).toMutation(e._key,al.exists(!0))])}function qm(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=hr(e);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Oy(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Oy(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof ky)c=wy(e.firestore,Py),l=Nc(e._key.path),s={next:function(t){i[u]&&i[u](Hm(c,e,t))},error:i[u+1],complete:i[u+2]};else{var d=wy(e,Iy);c=wy(d.firestore,Py),l=d._query;var p=new Um(c);s={next:function(e){i[u]&&i[u](new wm(c,p,d,e))},error:i[u+1],complete:i[u+2]},Em(e._query)}return function(e,t,n,r){var i=this,o=new Kv(r),a=new Zp(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Wn(i,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return t=Gp,[4,ny(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Wn(i,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return t=$p,[4,ny(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ry(c),l,f,s)}function Km(e,t){return function(e,t){var n=this,r=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var n;return Qn(this,(function(i){switch(i.label){case 0:return n=hv,[4,ty(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Ry(e),t)}function Hm(e,t,n){var r=n.docs.get(t._key),i=new Um(e);return new gm(e,i,t._key,r,new mm(n.hasPendingWrites,n.fromCache),t.converter)}var Wm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Kn(t,e),t.prototype.get=function(t){var n=this,r=Vm(t,this._firestore),i=new Um(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new gm(n._firestore,i,r._key,e._document,new mm(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gy(e)}return e.prototype.get=function(e){var t=this,n=Vm(e,this._firestore),r=new Mm(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ds();var i=e[0];if(i.isFoundDocument())return new pm(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pm(t._firestore,r,n._key,null,n.converter);throw ds()}))},e.prototype.set=function(e,t,n){var r=Vm(e,this._firestore),i=Fm(r.converter,t,n),o=$y(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Vm(e,this._firestore);return o="string"==typeof(t=hr(t))||t instanceof jy?rm(this._dataReader,"Transaction.update",a._key,t,n,r):nm(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Vm(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Qm(){if("undefined"==typeof Uint8Array)throw new as(os.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gm(){if("undefined"==typeof atob)throw new as(os.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $m=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Gm(),new e(Vy.fromBase64String(t))},e.fromUint8Array=function(t){return Qm(),new e(Vy.fromUint8Array(t))},e.prototype.toBase64=function(){return Gm(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Qm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Ym=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){My(e=wy(e,Py));var n=Ry(e),r=e._freezeSettings(),i=new qv;return Fy(n,i,new zv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){My(e=wy(e,Py));var t=Ry(e),n=e._freezeSettings(),r=new qv;return Fy(t,r,new Bv(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new as(os.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zf;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Wn(t,void 0,void 0,(function(){var t;return Qn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return nh.yt()?(t=e+"main",[4,nh.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(dd(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Xm=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ay||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=wy(e,Ey))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Kd.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Hn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Zn(JSON.stringify({alg:"none",type:"JWT"})),Zn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new as(os.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Kd(s)}e._credentials=new ly(new sy(a,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Wn(t,void 0,void 0,(function(){var t,n;return Qn(this,(function(r){switch(r.label){case 0:return[4,Jv(e)];case 1:return t=r.sent(),[4,ey(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=vs(e);return t.Or.delete(0),yp(t)}(n))]}}))}))}))}(Ry(wy(this._delegate,Py)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Wn(t,void 0,void 0,(function(){var t,n;return Qn(this,(function(r){switch(r.label){case 0:return[4,Jv(e)];case 1:return t=r.sent(),[4,ey(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Wn(this,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return(t=vs(e)).Or.add(0),[4,mp(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ry(wy(this._delegate,Py)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&yy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(t,void 0,void 0,(function(){var t;return Qn(this,(function(r){switch(r.label){case 0:return t=gv,[4,ty(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ry(wy(this._delegate,Py)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Kv(t);return e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return t=function(e,t){vs(e).Gr.add(t),t.next()},[4,ny(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var t;return Qn(this,(function(n){switch(n.label){case 0:return t=function(e,t){vs(e).Gr.delete(t)},[4,ny(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ry(e=wy(e,Py)),Oy(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new as(os.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new fg(this,xy(this._delegate,e))}catch(e){throw rg(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ng(this,Ny(this._delegate,e))}catch(e){throw rg(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new sg(this,function(e,t){if(e=wy(e,Ey),py("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new as(os.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Iy(e,null,function(e){return new Tc(xs.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw rg(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var n;return Qn(this,(function(i){switch(i.label){case 0:return[4,function(e){return Xv(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Wv(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Ry(e),(function(n){return t(new Wm(e,n))}))}(this._delegate,(function(n){return e(new Zm(t,n))}))},e.prototype.batch=function(){var e=this;return Ry(this._delegate),new eg(new jm(this._delegate,(function(t){return Km(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new as(os.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new as(os.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Jm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Kn(t,e),t.prototype.convertBytes=function(e){return new $m(new Vy(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ng.eu(t,this.firestore,null)},t}(Lm);var Zm=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jm(e)}return e.prototype.get=function(e){var t=this,n=hg(e);return this._delegate.get(n).then((function(e){return new ag(t._firestore,new gm(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=hg(e);return n?(vy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hg(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Yn([a,t,n],i)),this},e.prototype.delete=function(e){var t=hg(e);return this._delegate.delete(t),this},e}(),eg=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=hg(e);return n?(vy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=hg(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Yn([a,t,n],i)),this},e.prototype.delete=function(e){var t=hg(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),tg=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new bm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ug(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Jm(t),n),i.set(n,o)),o},e}();tg.su=new WeakMap;var ng=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jm(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new as(os.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ky(n._delegate,r,new Bs(t)))},e.eu=function(t,n,r){return new e(n,new ky(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new fg(this.firestore,xy(this._delegate,e))}catch(e){throw rg(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=hr(e))instanceof ky&&Cy(this._delegate,e)},e.prototype.set=function(e,t){t=vy("DocumentReference.set",t);try{return t?zm(this._delegate,e,t):zm(this._delegate,e)}catch(e){throw rg(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Bm(this._delegate,e):Bm.apply(void 0,Yn([this._delegate,e,t],n))}catch(e){throw rg(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Km(wy((e=this._delegate).firestore,Py),[new Sl(e._key,al.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ig(t),i=og(t,(function(t){return new ag(e.firestore,new gm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return qm(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wy(e,ky);var t=wy(e.firestore,Py),n=Ry(t),r=new Um(t);return function(e,t){var n=this,r=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var n;return Qn(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i;return Qn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=vs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new as(os.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Bp(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Zv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new gm(t,r,e._key,n,new mm(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wy(e,ky);var t=wy(e.firestore,Py);return ry(Ry(t),e._key,{source:"server"}).then((function(n){return Hm(t,e,n)}))}(this._delegate):function(e){e=wy(e,ky);var t=wy(e.firestore,Py);return ry(Ry(t),e._key).then((function(n){return Hm(t,e,n)}))}(this._delegate)).then((function(e){return new ag(t.firestore,new gm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(tg.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function rg(e,t,n){return e.message=e.message.replace(t,n),e}function ig(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Oy(r))return r}return{}}function og(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Oy(e[0])?e[0]:Oy(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ag=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ng(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return _m(this._delegate,e._delegate)},e}(),ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(ag),sg=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jm(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Im(this._delegate,function(e,t,n){var r=t,i=ym("where",e);return new Tm(i,r,n)}(t,n,r)))}catch(t){throw rg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Im(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=ym("orderBy",e);return new xm(r,n)}(t,n)))}catch(t){throw rg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Im(this._delegate,function(e){return Sy("limit",e),new Nm("limit",e,"F")}(t)))}catch(t){throw rg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Im(this._delegate,function(e){return Sy("limitToLast",e),new Nm("limitToLast",e,"L")}(t)))}catch(t){throw rg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cm("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw rg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cm("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw rg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Am("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw rg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Im(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Am("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw rg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Ay(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=wy(e,Iy);var t=wy(e.firestore,Py),n=Ry(t),r=new Um(t);return function(e,t){var n=this,r=new Zf;return e.asyncQueue.enqueueAndForget((function(){return Wn(n,void 0,void 0,(function(){var n;return Qn(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o,a,u;return Qn(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Nd(e,t,!0)];case 1:return u=s.sent(),r=new ov(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Bp(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Zv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new wm(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wy(e,Iy);var t=wy(e.firestore,Py),n=Ry(t),r=new Um(t);return iy(n,e._query,{source:"server"}).then((function(n){return new wm(t,r,e,n)}))}(this._delegate):function(e){e=wy(e,Iy);var t=wy(e.firestore,Py),n=Ry(t),r=new Um(t);return Em(e._query),iy(n,e._query).then((function(n){return new wm(t,r,e,n)}))}(this._delegate)).then((function(e){return new lg(t.firestore,new wm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ig(t),i=og(t,(function(t){return new lg(e.firestore,new wm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return qm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(tg.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),cg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ug(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),lg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new sg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ug(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new cg(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ug(n._firestore,r))}))},e.prototype.isEqual=function(e){return _m(this._delegate,e._delegate)},e}(),fg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Kn(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ng(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ng(this.firestore,void 0===e?Ny(this._delegate):Ny(this._delegate,e))}catch(e){throw rg(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=wy(e.firestore,Py),r=Ny(e),i=Fm(e.converter,t);return Km(n,[$y(Gy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,al.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ng(t.firestore,e)}))},t.prototype.isEqual=function(e){return Cy(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(tg.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(sg);function hg(e){return wy(e,ky)}var dg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(jy.bind.apply(jy,Yn([void 0],e)))}return e.documentId=function(){return new e(Cs.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=hr(e))instanceof jy&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),pg=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Jy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zy("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new em("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new tm("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var vg={Firestore:Xm,GeoPoint:zy,Timestamp:Ss,Blob:$m,Transaction:Zm,WriteBatch:eg,DocumentReference:ng,DocumentSnapshot:ag,Query:sg,QueryDocumentSnapshot:ug,QuerySnapshot:lg,CollectionReference:fg,FieldPath:dg,FieldValue:pg,setLogLevel:function(e){var t;t=e,us.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new dr("firestore",(function(e){return function(e,t){return new Xm(e,new Py(e,t),new Ym)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vg)))}(e),e.registerVersion("@firebase/firestore","2.4.1")}(Br);Br.initializeApp({apiKey:"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8",authDomain:"dv-inventory.firebaseapp.com",databaseURL:"https://dv-inventory.firebaseio.com",projectId:"dv-inventory",storageBucket:"dv-inventory.appspot.com",messagingSenderId:"130062240176",appId:"1:130062240176:web:ecbca5d29b37d25c6cee75"});var yg={_db:Br.firestore(),getPlaces:function(){return this._db.collection("places").get().then((function(e){return e.docs.map((function(e){var t;return{id:e.id,name:e.data().name,parts:null===(t=e.data().parts)||void 0===t?void 0:t.map((function(e){return e.id}))}}))}))},getInventory:function(){return this._db.collection("inventory").get().then((function(e){return e.docs.map((function(e){return{id:e.id,data:e.data(),placeId:e.data().place?e.data().place.id:"Not found"}}))}))},addInventory:function(e){var t=this._db;return t.collection("inventory").doc().set({name:e.name,count:e.count,place:t.collection("places").doc(e.id)}).then((function(){return{status:Rn.success}})).catch((function(){return{status:Rn.error}}))},deleteInventory:function(e){return this._db.collection("inventory").doc(e).delete().then((function(){return{status:Rn.success}})).catch((function(){return{status:Rn.error}}))}};function mg(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function gg(e){return!!e&&!!e[ub]}function bg(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===sb}(e)||Array.isArray(e)||!!e[ab]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ab])||Tg(e)||xg(e))}function wg(e,t,n){void 0===n&&(n=!1),0===Sg(e)?(n?Object.keys:cb)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Sg(e){var t=e[ub];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Tg(e)?2:xg(e)?3:0}function _g(e,t){return 2===Sg(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Eg(e,t){return 2===Sg(e)?e.get(t):e[t]}function kg(e,t,n){var r=Sg(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ig(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Tg(e){return nb&&e instanceof Map}function xg(e){return rb&&e instanceof Set}function Ng(e){return e.o||e.t}function Cg(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=lb(e);delete t[ub];for(var n=cb(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Ag(e,t){return void 0===t&&(t=!1),Og(e)||gg(e)||!bg(e)||(Sg(e)>1&&(e.set=e.add=e.clear=e.delete=Dg),Object.freeze(e),t&&wg(e,(function(e,t){return Ag(t,!0)}),!0)),e}function Dg(){mg(2)}function Og(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Pg(e){var t=fb[e];return t||mg(18,e),t}function Rg(e,t){fb[e]||(fb[e]=t)}function Lg(){return eb}function Fg(e,t){t&&(Pg("Patches"),e.u=[],e.s=[],e.v=t)}function Mg(e){jg(e),e.p.forEach(Ug),e.p=null}function jg(e){e===eb&&(eb=e.l)}function Vg(e){return eb={p:[],l:eb,h:e,m:!0,_:0}}function Ug(e){var t=e[ub];0===t.i||1===t.i?t.j():t.O=!0}function zg(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Pg("ES5").S(t,e,r),r?(n[ub].P&&(Mg(t),mg(4)),bg(e)&&(e=Bg(t,e),t.l||Kg(t,e)),t.u&&Pg("Patches").M(n[ub].t,e,t.u,t.s)):e=Bg(t,n,[]),Mg(t),t.u&&t.v(t.u,t.s),e!==ob?e:void 0}function Bg(e,t,n){if(Og(t))return t;var r=t[ub];if(!r)return wg(t,(function(i,o){return qg(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Kg(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Cg(r.k):r.o;wg(3===r.i?new Set(i):i,(function(t,o){return qg(e,r,i,t,o,n)})),Kg(e,i,!1),n&&e.u&&Pg("Patches").R(r,n,e.u,e.s)}return r.o}function qg(e,t,n,r,i,o){if(gg(i)){var a=Bg(e,i,o&&t&&3!==t.i&&!_g(t.D,r)?o.concat(r):void 0);if(kg(n,r,a),!gg(a))return;e.m=!1}if(bg(i)&&!Og(i)){if(!e.h.F&&e._<1)return;Bg(e,i),t&&t.A.l||Kg(e,i)}}function Kg(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Ag(t,n)}function Hg(e,t){var n=e[ub];return(n?Ng(n):e)[t]}function Wg(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Qg(e){e.P||(e.P=!0,e.l&&Qg(e.l))}function Gg(e){e.o||(e.o=Cg(e.t))}function $g(e,t,n){var r=Tg(t)?Pg("MapSet").N(t,n):xg(t)?Pg("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Lg(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=hb;n&&(i=[r],o=db);var a=Proxy.revocable(i,o),u=a.revoke,s=a.proxy;return r.k=s,r.j=u,s}(t,n):Pg("ES5").J(t,n);return(n?n.A:Lg()).p.push(r),r}function Yg(e){return gg(e)||mg(22,e),function e(t){if(!bg(t))return t;var n,r=t[ub],i=Sg(t);if(r){if(!r.P&&(r.i<4||!Pg("ES5").K(r)))return r.t;r.I=!0,n=Xg(t,i),r.I=!1}else n=Xg(t,i);return wg(n,(function(t,i){r&&Eg(r.t,t)===i||kg(n,t,e(i))})),3===i?new Set(n):n}(e)}function Xg(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Cg(e)}function Jg(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ub];return hb.get(t,e)},set:function(t){var n=this[ub];hb.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ub];if(!i.P)switch(i.i){case 5:r(i)&&Qg(i);break;case 4:n(i)&&Qg(i)}}}function n(e){for(var t=e.t,n=e.k,r=cb(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ub){var a=t[o];if(void 0===a&&!_g(t,o))return!0;var u=n[o],s=u&&u[ub];if(s?s.t!==a:!Ig(u,a))return!0}}var c=!!t[ub];return r.length!==cb(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Rg("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=lb(n);delete o[ub];for(var a=cb(o),u=0;u<a.length;u++){var s=a[u];o[s]=e(s,t||!!o[s].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Lg(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ub,{value:o,writable:!0}),i},S:function(e,n,i){i?gg(n)&&n[ub].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ub];if(n){var i=n.t,o=n.k,a=n.D,u=n.i;if(4===u)wg(o,(function(t){t!==ub&&(void 0!==i[t]||_g(i,t)?a[t]||e(o[t]):(a[t]=!0,Qg(n)))})),wg(i,(function(e){void 0!==o[e]||_g(o,e)||(a[e]=!1,Qg(n))}));else if(5===u){if(r(n)&&(Qg(n),a.length=!0),o.length<i.length)for(var s=o.length;s<i.length;s++)a[s]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),f=0;f<l;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Zg,eb,tb="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),nb="undefined"!=typeof Map,rb="undefined"!=typeof Set,ib="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ob=tb?Symbol.for("immer-nothing"):((Zg={})["immer-nothing"]=!0,Zg),ab=tb?Symbol.for("immer-draftable"):"__$immer_draftable",ub=tb?Symbol.for("immer-state"):"__$immer_state",sb=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),cb="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,lb=Object.getOwnPropertyDescriptors||function(e){var t={};return cb(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fb={},hb={get:function(e,t){if(t===ub)return e;var n=Ng(e);if(!_g(n,t))return function(e,t,n){var r,i=Wg(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!bg(r)?r:r===Hg(e.t,t)?(Gg(e),e.o[t]=$g(e.A.h,r,e)):r},has:function(e,t){return t in Ng(e)},ownKeys:function(e){return Reflect.ownKeys(Ng(e))},set:function(e,t,n){var r=Wg(Ng(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Hg(Ng(e),t),o=null==i?void 0:i[ub];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ig(n,i)&&(void 0!==n||_g(e.t,t)))return!0;Gg(e),Qg(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Hg(e.t,t)||t in e.t?(e.D[t]=!1,Gg(e),Qg(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ng(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){mg(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){mg(12)}},db={};wg(hb,(function(e,t){db[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),db.deleteProperty=function(e,t){return db.set.call(this,e,t,void 0)},db.set=function(e,t,n){return hb.set.call(this,e[0],t,n,e[0])};var pb=function(){function e(e){var t=this;this.g=ib,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&mg(6),void 0!==r&&"function"!=typeof r&&mg(7),bg(e)){var u=Vg(t),s=$g(t,e,void 0),c=!0;try{a=n(s),c=!1}finally{c?Mg(u):jg(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Fg(u,r),zg(e,u)}),(function(e){throw Mg(u),e})):(Fg(u,r),zg(a,u))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===ob&&(a=void 0),t.F&&Ag(a,!0),r){var l=[],f=[];Pg("Patches").M(e,a,l,f),r(l,f)}return a}mg(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){bg(e)||mg(8),gg(e)&&(e=Yg(e));var t=Vg(this),n=$g(this,e,void 0);return n[ub].C=!0,jg(t),n},t.finishDraft=function(e,t){var n=(e&&e[ub]).A;return Fg(n,t),zg(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ib&&mg(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Pg("Patches").$;return gg(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),vb=new pb,yb=vb.produce,mb=(vb.produceWithPatches.bind(vb),vb.setAutoFreeze.bind(vb),vb.setUseProxies.bind(vb),vb.applyPatches.bind(vb),vb.createDraft.bind(vb),vb.finishDraft.bind(vb),yb);function gb(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var bb="function"===typeof Symbol&&Symbol.observable||"@@observable",wb=function(){return Math.random().toString(36).substring(7).split("").join(".")},Sb={INIT:"@@redux/INIT"+wb(),REPLACE:"@@redux/REPLACE"+wb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wb()}};function _b(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Eb(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(gb(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(gb(1));return n(Eb)(e,t)}if("function"!==typeof e)throw new Error(gb(2));var i=e,o=t,a=[],u=a,s=!1;function c(){u===a&&(u=a.slice())}function l(){if(s)throw new Error(gb(3));return o}function f(e){if("function"!==typeof e)throw new Error(gb(4));if(s)throw new Error(gb(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(gb(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),a=null}}}function h(e){if(!_b(e))throw new Error(gb(7));if("undefined"===typeof e.type)throw new Error(gb(8));if(s)throw new Error(gb(9));try{s=!0,o=i(o,e)}finally{s=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(gb(10));i=e,h({type:Sb.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(gb(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[bb]=function(){return this},e}return h({type:Sb.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[bb]=p,r}function kb(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Sb.INIT}))throw new Error(gb(12));if("undefined"===typeof n(void 0,{type:Sb.PROBE_UNKNOWN_ACTION()}))throw new Error(gb(13))}))}(n)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},u=0;u<a.length;u++){var s=a[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(gb(14))}i[s]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(gb(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Ib.apply(void 0,o)(n.dispatch),Pe(Pe({},n),{},{dispatch:r})}}}function xb(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Nb=xb();Nb.withExtraArgument=xb;var Cb=Nb,Ab=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Db=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},Ob=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Pb=Object.defineProperty,Rb=Object.defineProperties,Lb=Object.getOwnPropertyDescriptors,Fb=Object.getOwnPropertySymbols,Mb=Object.prototype.hasOwnProperty,jb=Object.prototype.propertyIsEnumerable,Vb=function(e,t,n){return t in e?Pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ub=function(e,t){for(var n in t||(t={}))Mb.call(t,n)&&Vb(e,n,t[n]);if(Fb)for(var r=0,i=Fb(t);r<i.length;r++){n=i[r];jb.call(t,n)&&Vb(e,n,t[n])}return e},zb=function(e,t){return Rb(e,Lb(t))},Bb=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{u(n.next(e))}catch(t){i(t)}},a=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};u((n=n.apply(e,t)).next())}))},qb="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ib:Ib.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Kb(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Hb=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ab(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ob([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ob([void 0],e.concat(this))))},t}(Array);function Wb(e){return bg(e)?mb(e,(function(){})):e}function Qb(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Hb);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Cb.withExtraArgument(n.extraArgument)):r.push(Cb));0;return r}(e)}}function Gb(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ub(Ub({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function $b(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var Yb=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Xb=["name","message","stack","code"],Jb=function(e,t){this.payload=e,this.meta=t},Zb=function(e,t){this.payload=e,this.meta=t},ew=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Xb;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Gb(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:zb(Ub({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Gb(e+"/pending",(function(e,t,n){return{payload:void 0,meta:zb(Ub({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Gb(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||ew)(e||"Rejected"),meta:zb(Ub({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Yb(),h=new a,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;function v(e){p&&(l=e,h.abort())}var y=function(){return Bb(this,null,(function(){var a,l,y,m,g;return Db(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:s,extra:c}),null===(w=m)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,u(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:v,rejectWithValue:function(e,t){return new Jb(e,t)},fulfillWithValue:function(e,t){return new Zb(e,t)}})).then((function(t){if(t instanceof Jb)throw t;return t instanceof Zb?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return y=b.sent(),[3,5];case 4:return g=b.sent(),y=g instanceof Jb?o(null,f,e,g.payload,g.meta):o(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(y)&&y.meta.condition||u(y),[2,y]}var w}))}))}();return Object.assign(y,{abort:v,requestId:f,arg:e,unwrap:function(){return y.then(tw)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=e}();function tw(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var nw="listenerMiddleware";Gb(nw+"/add"),Gb(nw+"/removeAll"),Gb(nw+"/remove");var rw;"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:n.g);Jg();var iw=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Wb(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},u={},s={};function c(){var t="function"===typeof e.extraReducers?$b(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,s=t[2],c=void 0===s?void 0:s,l=Ub(Ub({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?$b(t):[t,n,r],a=o[0],u=o[1],s=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Wb(e())};else{var c=Wb(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ob([a[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(gg(e))return void 0===(r=n(e,t))?e:r;if(bg(e))return mb(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,u[c]=n,s[e]=r?Gb(c,r):Gb(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"places",initialState:{loading:!1,error:"",hierarchy:[],inventory:[],currentInventory:[],isRoom:"",currentName:""},reducers:{fetching:function(e){e.loading=!0},fetchingFalse:function(e){e.loading=!1},setError:function(e,t){e.loading=!1,e.error=t.payload},setPlaces:function(e,t){e.loading=!1,e.error="",e.hierarchy=t.payload},setInvectory:function(e,t){e.loading=!1,e.error="",e.inventory=t.payload},setCurrentInventory:function(e,t){e.currentInventory=t.payload},setRoom:function(e,t){e.isRoom=t.payload},setCurrentName:function(e,t){e.currentName=t.payload}}}),ow=iw.reducer,aw=function(){return function(){var e=Fe(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(iw.actions.fetching()),e.next=4,yg.getInventory();case 4:n=e.sent,r=n.map((function(e){return{name:e.data.name,count:+e.data.count,id:e.id,placeId:e.placeId}})),t(iw.actions.setInvectory(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(iw.actions.setError("Fetch invectory error"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},uw=function(e){return function(t){t(iw.actions.setRoom(e))}},sw=function(){return function(){var e=Fe(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(aw());case 2:return e.next=4,Un(zn(n().main.isRoom,n().main.hierarchy),n().main.inventory);case 4:r=e.sent,t(iw.actions.setCurrentInventory(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},cw="FormAddInventory_from__qkoZF",lw="FormAddInventory_formTitle__5XOU6",fw="FormAddInventory_formInner__7dKKm",hw="FormAddInventory_inputGroup__ESbts",dw="FormAddInventory_input__Rh2vF",pw="FormAddInventory_button__7o0hm",vw=n(184),yw=function(e){var n=e.room,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=g(t.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues}),2),i=r[0],o=r[1];n.current||(n.current=Pe(Pe({},hn(e)),{},{formState:i}));var a=n.current.control;return a._options=e,yt({subject:a._subjects.state,callback:t.useCallback((function(e){pt(e,a._proxyFormState,!0)&&(a._formState=Pe(Pe({},a._formState),e),o(Pe({},a._formState)))}),[a])}),t.useEffect((function(){a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),t.useEffect((function(){i.submitCount&&a._focusError()}),[a,i.submitCount]),n.current.formState=ht(i,a),n.current}(),i=r.register,o=r.handleSubmit,a=r.reset,u=Ln();return(0,vw.jsxs)("form",{className:cw,onSubmit:o((function(e){u(function(e){return function(){var t=Fe(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(iw.actions.fetching()),yg.addInventory(e).then((function(e){if(e.status!==Rn.success)throw Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c!");n(iw.actions.setError("")),n(sw()),n(iw.actions.fetchingFalse())})).catch((function(e){n(iw.actions.setError(e.message)),n(iw.actions.fetchingFalse())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(Pe(Pe({},e),{},{id:n}))),a()})),children:[(0,vw.jsx)("h3",{className:lw,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,vw.jsxs)("div",{className:fw,children:[(0,vw.jsxs)("div",{className:hw,children:[(0,vw.jsx)("label",{htmlFor:"inpName",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,vw.jsx)("input",Pe({className:dw,type:"text",id:"inpName"},i("name")))]}),(0,vw.jsxs)("div",{className:hw,children:[(0,vw.jsx)("label",{htmlFor:"inpNum",children:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,vw.jsx)("input",Pe({className:dw,type:"number",id:"inpNum"},i("count")))]}),(0,vw.jsx)("button",{className:pw,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})},mw=n(694),gw=n.n(mw),bw="InventoryRow_row__j65N1",ww="InventoryRow_cell__kP3rl",Sw="InventoryRow_input__1rxKn",_w="InventoryRow_inputEdit__lk8w5",Ew="InventoryRow_buttonWrap__zKarH",kw="InventoryRow_btn__dhSvN",Iw="InventoryRow_btnSubmit__9yJ4b",Tw="InventoryRow_btnEdit__Na5dg",xw="InventoryRow_btnDelete__jeeDP",Nw=function(e){var n,r=e.count,i=e.name,o=e.id,a=e.deleteInv,u=e.isRoom,s=e.updataInventory,c=g((0,t.useState)(!1),2),l=c[0],f=c[1],h=g((0,t.useState)(i),2),d=h[0],p=h[1],v=g((0,t.useState)(r),2),y=v[0],m=v[1],b={onInputNameChange:function(e){p(e.currentTarget.value)},onInputCountChange:function(e){m(+e.currentTarget.value)}},w=gw()((De(n={},Sw,!0),De(n,_w,l),n));return(0,vw.jsxs)("tr",{className:bw,children:[(0,vw.jsx)("td",{className:ww,children:!!u&&(0,vw.jsxs)("div",{className:Ew,children:[l?(0,vw.jsx)("button",{className:"".concat(kw," ").concat(Iw),onClick:function(){d===i&&y===r||(s(o,{name:d,count:y}),f(!1)),f(!1)},children:"\u0413\u043e\u0442\u043e\u0432\u043e"}):(0,vw.jsx)("button",{className:"".concat(kw," ").concat(Tw),onClick:function(){f(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,vw.jsx)("button",{className:"".concat(kw," ").concat(xw),onClick:function(){return a(o)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),(0,vw.jsx)("td",{className:ww,children:(0,vw.jsx)("input",{className:w,type:"text",value:d,onChange:b.onInputNameChange,disabled:!l})}),(0,vw.jsx)("td",{className:ww,children:(0,vw.jsx)("input",{className:w,type:"number",value:y,onChange:b.onInputCountChange,disabled:!l})})]})},Cw="InventoryTable_table__+MnwR",Aw="InventoryTable_header__XwH0O",Dw="InventoryTable_bodyTable__rN364",Ow="InventoryTable_row__ZfaHs",Pw="InventoryTable_cell__WhaTA",Rw=function(e){var t=e.children;return(0,vw.jsxs)("table",{className:Cw,children:[(0,vw.jsx)("thead",{className:Aw,children:(0,vw.jsx)("tr",{className:Ow,children:["\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","\u041a\u043e\u043b-\u0432\u043e"].map((function(e){return(0,vw.jsx)("th",{className:Pw,children:e},e)}))})}),(0,vw.jsx)("tbody",{className:Dw,children:t})]})},Lw="Node_node__kY412",Fw=function(e){var t=e.children;return(0,vw.jsx)("div",{className:Lw,children:t})},Mw="Indicator_count__i34Sq",jw=(0,t.memo)((function(e){var t=e.indicator;return 0===t.length?null:(0,vw.jsx)("span",{className:Mw,children:t.length})})),Vw={nodeRow:"NodeRow_nodeRow__dEMv5"},Uw=function(e){var t=e.nodeName,n=e.currentInventory,r=e.onClick;return(0,vw.jsxs)("div",{className:Vw.nodeRow,onClick:function(){return r(n)},children:[(0,vw.jsxs)("span",{className:Vw.nodeName,children:[t,":"]}),(0,vw.jsx)(jw,{indicator:n})]})},zw="NodeWrapper_wrapper__e8eaq",Bw="NodeWrapper_inner__R6Gwp",qw="NodeWrapper_treeWrap__s0NpJ",Kw=function(e){var t=e.children;return(0,vw.jsx)("div",{className:zw,children:(0,vw.jsx)("div",{className:Bw,children:(0,vw.jsx)("div",{className:qw,children:t})})})},Hw=function(e){var t=e.arr,n=e.inventory,r=Ln();return(0,vw.jsx)(Kw,{children:t.length?function e(t,n){var i=t.map((function(i){var o=Un(zn(i.id,t),n);return(0,vw.jsx)(Fw,{children:(0,vw.jsxs)(vw.Fragment,{children:[(0,vw.jsx)(Uw,{currentInventory:o,onClick:function(e){var t;r(function(e){return function(t){t(iw.actions.setCurrentInventory(e))}}(e)),r((t=i.name,function(e){e(iw.actions.setCurrentName(t))})),i.parts.length?r(uw("")):r(uw(i.id))},nodeName:i.name}),i.parts?e(i.parts,n):null]})},i.id)}));return i}(t,n):(0,vw.jsx)("span",{children:"No data"})})},Ww="Preloader_backSide__xd5PP",Qw="Preloader_ldsRoller__jkXRF",Gw=function(){return(0,vw.jsx)("span",{className:Ww,children:(0,vw.jsxs)("div",{className:Qw,children:[(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{}),(0,vw.jsx)("div",{})]})})},$w=function(e){return e.main},Yw="MainPage_inventorySection__LXWIQ",Xw="MainPage_sectionList__0B0Sp",Jw="MainPage_wrapperTable__08ji8",Zw="MainPage_inventoryTitle__eOcwT",eS=[{path:"/",Element:function(){var e=Ln(),n=Fn($w),r=n.hierarchy,i=n.inventory,o=n.currentInventory,a=n.loading,u=n.isRoom,s=n.currentName;(0,t.useEffect)((function(){e(function(){var e=Fe(Re().mark((function e(t){var n,r,i,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(iw.actions.fetching()),e.next=4,yg.getPlaces();case 4:n=e.sent,r=n.map((function(e){return{name:e.name,id:e.id,parts:void 0===e.parts?[]:e.parts}})),i=[],r.forEach((function(e){-1===e.id.indexOf("-")&&i.push(e)})),o=Mn(i,r),t(iw.actions.setPlaces(o)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(iw.actions.setError("Fetch places error"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),e(aw())}),[]);var c=function(t){e(function(e){return function(t){t(iw.actions.fetching()),yg.deleteInventory(e).then((function(e){if(e.status!==Rn.success)throw Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430");t(iw.actions.setError("")),t(sw()),t(iw.actions.fetchingFalse())})).catch((function(e){t(iw.actions.setError(e.message)),t(iw.actions.fetchingFalse())}))}}(t))},l=function(t,n){e(function(e,t){return function(n){n(iw.actions.fetching()),Promise.all([yg.deleteInventory(e),yg.addInventory({id:e,name:t.name,count:t.count})]).then((function(e){var t=g(e,2),r=t[0],i=t[1];if(r.status!==Rn.success||i.status!==Rn.success)throw Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430");n(sw),n(iw.actions.fetchingFalse())})).catch((function(e){n(iw.actions.setError(e.message)),n(iw.actions.fetchingFalse())}))}}(t,n))};return(0,vw.jsxs)("section",{className:Yw,children:[a&&(0,vw.jsx)(Gw,{}),(0,vw.jsx)("div",{className:Xw,children:r||i?(0,vw.jsx)(Hw,{arr:r,inventory:i}):(0,vw.jsx)("p",{children:"No found"})}),(0,vw.jsxs)("div",{className:Jw,children:[s&&(0,vw.jsx)("h2",{className:Zw,children:s}),(0,vw.jsx)(Rw,{children:o.length?o.map((function(e){return(0,vw.jsx)(Nw,{count:e.count,name:e.name,id:e.id,deleteInv:c,isRoom:u,updataInventory:l},e.id)})):(0,vw.jsx)("tr",{children:(0,vw.jsx)("td",{children:"Not found"})})}),u&&(0,vw.jsx)(yw,{room:u})]})]})}}],tS=t.memo((function(){return(0,vw.jsxs)(Ne,{children:[eS.map((function(e){var t=e.path,n=e.Element;return(0,vw.jsx)(Te,{path:t,element:(0,vw.jsx)(n,{})},Math.random().toString(36).substring(2,15))})),(0,vw.jsx)(Te,{path:"*",element:(0,vw.jsx)(Ie,{to:"/",replace:!0})})]})}));function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nS.apply(this,arguments)}function rS(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var iS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function oS(e){var n,r=e.basename,i=e.children,o=e.window,a=t.useRef();null==a.current&&(a.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),C((function(e,t){var n=e.location;return I("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:T(t)}),null,n)));var u=a.current,s=g(t.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return t.useLayoutEffect((function(){return u.listen(l)}),[u]),t.createElement(xe,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var aS=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,o=e.reloadDocument,a=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=rS(e,iS),h=function(e,n){var r=(void 0===n?{}:n).relative;de()||V(!1);var i=t.useContext(ce),o=i.basename,a=i.navigator,u=ye(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==o&&(f="/"===c?o:K([o,c])),a.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,u=r.preventScrollReset,s=r.relative,c=ve(),l=pe(),f=ye(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==o?o:T(l)===T(f);c(e,{replace:n,state:a,preventScrollReset:u,relative:s})}}),[l,c,f,o,a,i,e,u,s])}(c,{replace:a,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",nS({},f,{href:h,onClick:o?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));var uS,sS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(uS||(uS={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(sS||(sS={}));var cS="Container_container__0KeFe",lS=function(e){var t=e.children;return(0,vw.jsx)("div",{className:cS,children:t})},fS="Header_header__FLP79",hS="Header_logo__3ReXi",dS="Header_trill__ggA4n",pS=function(){return(0,vw.jsx)("header",{className:fS,children:(0,vw.jsx)(lS,{children:(0,vw.jsx)(aS,{to:"/",children:(0,vw.jsx)("svg",{className:hS,xmlns:"http://www.w3.org/2000/svg",version:"1.2",viewBox:"0 0 978 317",children:(0,vw.jsxs)("g",{id:"Layer",children:[(0,vw.jsx)("path",{id:"Layer",className:dS,d:"m79 152.6l78.1 78h-78.1z"}),(0,vw.jsx)("path",{id:"Layer",fillRule:"evenodd",d:"m350.8 190.6c0 21.5-17.3 38.3-39.5 38.3c-21.8 0-39-16.8-39-38.3c0-21.5 17.3-38.4 39.3-38.4c22.3 0 39.2 16.5 39.2 38.4zm-13.7 0c0-15.3-11.1-26.9-25.7-26.9c-14.7 0-25.3 11.4-25.3 26.9c0 15.1 11.2 26.9 25.5 26.9c14.8 0 25.5-11.3 25.5-26.9zm66.7 26.9c7.5 0 13.7-2.7 20.1-8.8l7.9 7.8c-5.9 6.3-14 12.4-28.8 12.4c-21.3 0-38-16.8-38-38.2c0-21.6 16.7-38.5 38.1-38.5c11.8 0 20.5 3.5 28.2 11.4l-8.3 8.9c-4.5-4.4-10.5-8.7-20-8.7c-13.9 0-24.3 11.5-24.3 26.8c0 15.4 10.8 26.9 25.1 26.9zm148.9-3l22.4-60.7h14.2l-30 73.9h-13.3l-30.1-73.9h14.7zm54.9-60.6h13.8v73.3h-13.8zm211.5 36.8c0 21.5-17.3 38.3-39.4 38.3c-21.9 0-39-16.8-39-38.3c0-21.5 17.2-38.4 39.3-38.4c22.3 0 39.1 16.5 39.1 38.4zm-13.7 0c0-15.3-11.1-26.9-25.7-26.9c-14.7 0-25.3 11.3-25.3 26.9c0 15.1 11.2 26.9 25.6 26.9c14.7 0 25.4-11.3 25.4-26.9zm-565-31.9l3.1 2v-37.4h14.4v105.3h-14.4v-8.4l-3.1 2.1c-6.5 4.3-14.3 6.6-22.5 6.6c-21.9 0-39-16.8-39-38.3c0-21.5 17.3-38.4 39.3-38.4c8.1 0 15.8 2.3 22.2 6.5zm3.1 29.4c-1.2-14.1-12-24.4-25.6-24.4c-14.6 0-25.3 11.3-25.3 26.9c0 15.1 11.3 26.9 25.6 26.9c13.7 0 24.1-10 25.3-24.3zm655.4-1.8v42.2h-13.6v-42c0-5.6-2-10.8-5.6-14.6c-3.6-3.8-8.5-5.9-13.9-5.9c-10.8 0-18.6 8.1-19 19.6v42.9h-13.7v-42.5v-34.3h13.7v8.1l3-1.7c4.9-2.6 10.5-4 16.2-4c18.5 0 32.9 14.1 32.9 32.2zm-186.9-32.5h13.7v73.4h-13.7zm-219 18.6c-4.5-4.4-10.4-8.7-19.9-8.7c-8.1 0-13.3 3.6-13.3 9.2c0 6.6 7.8 9.2 16.9 12.1l1.1 0.4h0.3q0.3 0.1 0.6 0.2c4.8 1.5 10.4 3.5 14.8 6.6c4.9 3.6 7.2 8.3 7.2 14.4c0 12.7-10.7 22-25.5 22.2l-2.6 0.1c-12 0-20.7-3.8-29-12.5l7.9-7.8c6.4 6.1 13.3 9.1 20.8 9.1c14.6-0.1 16.2-6.7 16.2-9.6c0-6.6-7.8-9.2-16.9-12.1l-0.5-0.2q-0.3-0.1-0.8-0.2q-0.3-0.1-0.7-0.2c-4.8-1.6-10.4-3.5-14.8-6.6c-4.8-3.6-7.2-8.3-7.2-14.5c0-12.6 10.7-21.9 25.5-22.1c11.8 0 20.5 3.5 28.2 11.3zm193.6 0c-4.6-4.5-10.5-8.8-19.9-8.8c-8.1 0.1-13.3 3.7-13.3 9.2c0 6.6 7.8 9.2 16.9 12.2l1.1 0.3l0.3 0.1q0.2 0.1 0.5 0.2c4.9 1.5 10.5 3.4 14.9 6.5c4.8 3.6 7.2 8.3 7.2 14.5c0 12.6-10.8 22-25.6 22.2h-2.5c-12 0-20.8-3.7-29.1-12.4l7.9-7.8c6.4 6 13.4 9.1 20.9 9.1c14.6-0.1 16.1-6.8 16.1-9.6c0-6.7-7.8-9.2-16.8-12.2l-0.5-0.1q-0.4-0.2-0.8-0.3q-0.4-0.1-0.7-0.2c-4.9-1.5-10.4-3.5-14.8-6.5c-4.9-3.6-7.2-8.3-7.2-14.5c0-12.7 10.7-22 25.5-22.2c11.8 0 20.5 3.5 28.1 11.3zm-78.9-41.6c0-3.8 3.1-6.8 6.9-6.8c3.7 0 6.8 3 6.8 6.8c0 3.8-3.1 6.8-6.8 6.8c-3.8 0-6.9-3-6.9-6.8zm118.5 0c0 3.8-3.1 6.8-6.8 6.8c-3.8 0-6.9-3-6.9-6.8c0-3.8 3.1-6.8 6.9-6.8c3.7 0 6.8 3 6.8 6.8z"})]})})})})})},vS="Main_main__SeVb2",yS=function(e){var t=e.children;return(0,vw.jsx)("main",{className:vS,children:(0,vw.jsx)(lS,{children:t})})};var mS=function(){return(0,vw.jsxs)(vw.Fragment,{children:[(0,vw.jsx)(pS,{}),(0,vw.jsx)(yS,{children:(0,vw.jsx)(tS,{})})]})},gS=function(e){var t,n=Qb(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,u=void 0===a?n():a,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!Kb(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=kb(o)}var p=u;"function"===typeof p&&(p=p(n));var v=Tb.apply(void 0,p),y=Ib;c&&(y=qb(Ub({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=Ob([v],d):"function"===typeof d&&(m=d(m)),Eb(t,f,y.apply(void 0,m))}({reducer:kb({main:ow})});i.createRoot(document.getElementById("root")).render((0,vw.jsx)(Nn,{store:gS,children:(0,vw.jsx)(oS,{children:(0,vw.jsx)(mS,{})})}))}()}();
//# sourceMappingURL=main.7ddf6689.js.map